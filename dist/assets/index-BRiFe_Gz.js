(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function Gf(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var qc={exports:{}},Ii={},Kc={exports:{}},W={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fs=Symbol.for("react.element"),Jf=Symbol.for("react.portal"),Qf=Symbol.for("react.fragment"),Yf=Symbol.for("react.strict_mode"),Xf=Symbol.for("react.profiler"),Zf=Symbol.for("react.provider"),ep=Symbol.for("react.context"),tp=Symbol.for("react.forward_ref"),np=Symbol.for("react.suspense"),rp=Symbol.for("react.memo"),sp=Symbol.for("react.lazy"),ou=Symbol.iterator;function ip(e){return e===null||typeof e!="object"?null:(e=ou&&e[ou]||e["@@iterator"],typeof e=="function"?e:null)}var Gc={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Jc=Object.assign,Qc={};function cr(e,t,n){this.props=e,this.context=t,this.refs=Qc,this.updater=n||Gc}cr.prototype.isReactComponent={};cr.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};cr.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Yc(){}Yc.prototype=cr.prototype;function Ya(e,t,n){this.props=e,this.context=t,this.refs=Qc,this.updater=n||Gc}var Xa=Ya.prototype=new Yc;Xa.constructor=Ya;Jc(Xa,cr.prototype);Xa.isPureReactComponent=!0;var au=Array.isArray,Xc=Object.prototype.hasOwnProperty,Za={current:null},Zc={key:!0,ref:!0,__self:!0,__source:!0};function ed(e,t,n){var r,s={},i=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)Xc.call(t,r)&&!Zc.hasOwnProperty(r)&&(s[r]=t[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];s.children=l}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:fs,type:e,key:i,ref:o,props:s,_owner:Za.current}}function op(e,t){return{$$typeof:fs,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function el(e){return typeof e=="object"&&e!==null&&e.$$typeof===fs}function ap(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var lu=/\/+/g;function uo(e,t){return typeof e=="object"&&e!==null&&e.key!=null?ap(""+e.key):t.toString(36)}function Gs(e,t,n,r,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case fs:case Jf:o=!0}}if(o)return o=e,s=s(o),e=r===""?"."+uo(o,0):r,au(s)?(n="",e!=null&&(n=e.replace(lu,"$&/")+"/"),Gs(s,t,n,"",function(u){return u})):s!=null&&(el(s)&&(s=op(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(lu,"$&/")+"/")+e)),t.push(s)),1;if(o=0,r=r===""?".":r+":",au(e))for(var a=0;a<e.length;a++){i=e[a];var l=r+uo(i,a);o+=Gs(i,t,n,l,s)}else if(l=ip(e),typeof l=="function")for(e=l.call(e),a=0;!(i=e.next()).done;)i=i.value,l=r+uo(i,a++),o+=Gs(i,t,n,l,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Ss(e,t,n){if(e==null)return e;var r=[],s=0;return Gs(e,r,"","",function(i){return t.call(n,i,s++)}),r}function lp(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ee={current:null},Js={transition:null},up={ReactCurrentDispatcher:Ee,ReactCurrentBatchConfig:Js,ReactCurrentOwner:Za};function td(){throw Error("act(...) is not supported in production builds of React.")}W.Children={map:Ss,forEach:function(e,t,n){Ss(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Ss(e,function(){t++}),t},toArray:function(e){return Ss(e,function(t){return t})||[]},only:function(e){if(!el(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};W.Component=cr;W.Fragment=Qf;W.Profiler=Xf;W.PureComponent=Ya;W.StrictMode=Yf;W.Suspense=np;W.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=up;W.act=td;W.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Jc({},e.props),s=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=Za.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)Xc.call(t,l)&&!Zc.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:fs,type:e.type,key:s,ref:i,props:r,_owner:o}};W.createContext=function(e){return e={$$typeof:ep,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Zf,_context:e},e.Consumer=e};W.createElement=ed;W.createFactory=function(e){var t=ed.bind(null,e);return t.type=e,t};W.createRef=function(){return{current:null}};W.forwardRef=function(e){return{$$typeof:tp,render:e}};W.isValidElement=el;W.lazy=function(e){return{$$typeof:sp,_payload:{_status:-1,_result:e},_init:lp}};W.memo=function(e,t){return{$$typeof:rp,type:e,compare:t===void 0?null:t}};W.startTransition=function(e){var t=Js.transition;Js.transition={};try{e()}finally{Js.transition=t}};W.unstable_act=td;W.useCallback=function(e,t){return Ee.current.useCallback(e,t)};W.useContext=function(e){return Ee.current.useContext(e)};W.useDebugValue=function(){};W.useDeferredValue=function(e){return Ee.current.useDeferredValue(e)};W.useEffect=function(e,t){return Ee.current.useEffect(e,t)};W.useId=function(){return Ee.current.useId()};W.useImperativeHandle=function(e,t,n){return Ee.current.useImperativeHandle(e,t,n)};W.useInsertionEffect=function(e,t){return Ee.current.useInsertionEffect(e,t)};W.useLayoutEffect=function(e,t){return Ee.current.useLayoutEffect(e,t)};W.useMemo=function(e,t){return Ee.current.useMemo(e,t)};W.useReducer=function(e,t,n){return Ee.current.useReducer(e,t,n)};W.useRef=function(e){return Ee.current.useRef(e)};W.useState=function(e){return Ee.current.useState(e)};W.useSyncExternalStore=function(e,t,n){return Ee.current.useSyncExternalStore(e,t,n)};W.useTransition=function(){return Ee.current.useTransition()};W.version="18.3.1";Kc.exports=W;var F=Kc.exports;const cp=Gf(F);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dp=F,hp=Symbol.for("react.element"),fp=Symbol.for("react.fragment"),pp=Object.prototype.hasOwnProperty,mp=dp.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,gp={key:!0,ref:!0,__self:!0,__source:!0};function nd(e,t,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)pp.call(t,r)&&!gp.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:hp,type:e,key:i,ref:o,props:s,_owner:mp.current}}Ii.Fragment=fp;Ii.jsx=nd;Ii.jsxs=nd;qc.exports=Ii;var h=qc.exports,qo={},rd={exports:{}},ze={},sd={exports:{}},id={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(j,D){var $=j.length;j.push(D);e:for(;0<$;){var M=$-1>>>1,ne=j[M];if(0<s(ne,D))j[M]=D,j[$]=ne,$=M;else break e}}function n(j){return j.length===0?null:j[0]}function r(j){if(j.length===0)return null;var D=j[0],$=j.pop();if($!==D){j[0]=$;e:for(var M=0,ne=j.length,B=ne>>>1;M<B;){var Ye=2*(M+1)-1,mr=j[Ye],Xe=Ye+1,En=j[Xe];if(0>s(mr,$))Xe<ne&&0>s(En,mr)?(j[M]=En,j[Xe]=$,M=Xe):(j[M]=mr,j[Ye]=$,M=Ye);else if(Xe<ne&&0>s(En,$))j[M]=En,j[Xe]=$,M=Xe;else break e}}return D}function s(j,D){var $=j.sortIndex-D.sortIndex;return $!==0?$:j.id-D.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,g=null,f=3,v=!1,w=!1,_=!1,k=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,d=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function m(j){for(var D=n(u);D!==null;){if(D.callback===null)r(u);else if(D.startTime<=j)r(u),D.sortIndex=D.expirationTime,t(l,D);else break;D=n(u)}}function S(j){if(_=!1,m(j),!w)if(n(l)!==null)w=!0,xn(E);else{var D=n(u);D!==null&&Be(S,D.startTime-j)}}function E(j,D){w=!1,_&&(_=!1,p(N),N=-1),v=!0;var $=f;try{for(m(D),g=n(l);g!==null&&(!(g.expirationTime>D)||j&&!te());){var M=g.callback;if(typeof M=="function"){g.callback=null,f=g.priorityLevel;var ne=M(g.expirationTime<=D);D=e.unstable_now(),typeof ne=="function"?g.callback=ne:g===n(l)&&r(l),m(D)}else r(l);g=n(l)}if(g!==null)var B=!0;else{var Ye=n(u);Ye!==null&&Be(S,Ye.startTime-D),B=!1}return B}finally{g=null,f=$,v=!1}}var b=!1,C=null,N=-1,U=5,z=-1;function te(){return!(e.unstable_now()-z<U)}function Fe(){if(C!==null){var j=e.unstable_now();z=j;var D=!0;try{D=C(!0,j)}finally{D?en():(b=!1,C=null)}}else b=!1}var en;if(typeof d=="function")en=function(){d(Fe)};else if(typeof MessageChannel<"u"){var Nt=new MessageChannel,pr=Nt.port2;Nt.port1.onmessage=Fe,en=function(){pr.postMessage(null)}}else en=function(){k(Fe,0)};function xn(j){C=j,b||(b=!0,en())}function Be(j,D){N=k(function(){j(e.unstable_now())},D)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(j){j.callback=null},e.unstable_continueExecution=function(){w||v||(w=!0,xn(E))},e.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):U=0<j?Math.floor(1e3/j):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(j){switch(f){case 1:case 2:case 3:var D=3;break;default:D=f}var $=f;f=D;try{return j()}finally{f=$}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(j,D){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var $=f;f=j;try{return D()}finally{f=$}},e.unstable_scheduleCallback=function(j,D,$){var M=e.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?M+$:M):$=M,j){case 1:var ne=-1;break;case 2:ne=250;break;case 5:ne=1073741823;break;case 4:ne=1e4;break;default:ne=5e3}return ne=$+ne,j={id:c++,callback:D,priorityLevel:j,startTime:$,expirationTime:ne,sortIndex:-1},$>M?(j.sortIndex=$,t(u,j),n(l)===null&&j===n(u)&&(_?(p(N),N=-1):_=!0,Be(S,$-M))):(j.sortIndex=ne,t(l,j),w||v||(w=!0,xn(E))),j},e.unstable_shouldYield=te,e.unstable_wrapCallback=function(j){var D=f;return function(){var $=f;f=D;try{return j.apply(this,arguments)}finally{f=$}}}})(id);sd.exports=id;var vp=sd.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yp=F,Ue=vp;function x(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var od=new Set,Wr={};function Sn(e,t){rr(e,t),rr(e+"Capture",t)}function rr(e,t){for(Wr[e]=t,e=0;e<t.length;e++)od.add(t[e])}var xt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ko=Object.prototype.hasOwnProperty,wp=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,uu={},cu={};function _p(e){return Ko.call(cu,e)?!0:Ko.call(uu,e)?!1:wp.test(e)?cu[e]=!0:(uu[e]=!0,!1)}function Sp(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function kp(e,t,n,r){if(t===null||typeof t>"u"||Sp(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function be(e,t,n,r,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var ve={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ve[e]=new be(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ve[t]=new be(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){ve[e]=new be(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ve[e]=new be(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ve[e]=new be(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){ve[e]=new be(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){ve[e]=new be(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){ve[e]=new be(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){ve[e]=new be(e,5,!1,e.toLowerCase(),null,!1,!1)});var tl=/[\-:]([a-z])/g;function nl(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(tl,nl);ve[t]=new be(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(tl,nl);ve[t]=new be(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(tl,nl);ve[t]=new be(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){ve[e]=new be(e,1,!1,e.toLowerCase(),null,!1,!1)});ve.xlinkHref=new be("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){ve[e]=new be(e,1,!1,e.toLowerCase(),null,!0,!0)});function rl(e,t,n,r){var s=ve.hasOwnProperty(t)?ve[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(kp(t,n,s,r)&&(n=null),r||s===null?_p(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Ct=yp.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ks=Symbol.for("react.element"),Ln=Symbol.for("react.portal"),Dn=Symbol.for("react.fragment"),sl=Symbol.for("react.strict_mode"),Go=Symbol.for("react.profiler"),ad=Symbol.for("react.provider"),ld=Symbol.for("react.context"),il=Symbol.for("react.forward_ref"),Jo=Symbol.for("react.suspense"),Qo=Symbol.for("react.suspense_list"),ol=Symbol.for("react.memo"),At=Symbol.for("react.lazy"),ud=Symbol.for("react.offscreen"),du=Symbol.iterator;function yr(e){return e===null||typeof e!="object"?null:(e=du&&e[du]||e["@@iterator"],typeof e=="function"?e:null)}var ee=Object.assign,co;function Cr(e){if(co===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);co=t&&t[1]||""}return`
`+co+e}var ho=!1;function fo(e,t){if(!e||ho)return"";ho=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=o&&0<=a);break}}}finally{ho=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Cr(e):""}function xp(e){switch(e.tag){case 5:return Cr(e.type);case 16:return Cr("Lazy");case 13:return Cr("Suspense");case 19:return Cr("SuspenseList");case 0:case 2:case 15:return e=fo(e.type,!1),e;case 11:return e=fo(e.type.render,!1),e;case 1:return e=fo(e.type,!0),e;default:return""}}function Yo(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Dn:return"Fragment";case Ln:return"Portal";case Go:return"Profiler";case sl:return"StrictMode";case Jo:return"Suspense";case Qo:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case ld:return(e.displayName||"Context")+".Consumer";case ad:return(e._context.displayName||"Context")+".Provider";case il:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ol:return t=e.displayName||null,t!==null?t:Yo(e.type)||"Memo";case At:t=e._payload,e=e._init;try{return Yo(e(t))}catch{}}return null}function Ep(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Yo(t);case 8:return t===sl?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Jt(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function cd(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function bp(e){var t=cd(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function xs(e){e._valueTracker||(e._valueTracker=bp(e))}function dd(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=cd(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function oi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Xo(e,t){var n=t.checked;return ee({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function hu(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Jt(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function hd(e,t){t=t.checked,t!=null&&rl(e,"checked",t,!1)}function Zo(e,t){hd(e,t);var n=Jt(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?ea(e,t.type,n):t.hasOwnProperty("defaultValue")&&ea(e,t.type,Jt(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function fu(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function ea(e,t,n){(t!=="number"||oi(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var jr=Array.isArray;function Qn(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Jt(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function ta(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(x(91));return ee({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function pu(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(x(92));if(jr(n)){if(1<n.length)throw Error(x(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Jt(n)}}function fd(e,t){var n=Jt(t.value),r=Jt(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function mu(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function pd(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function na(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?pd(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Es,md=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Es=Es||document.createElement("div"),Es.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Es.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Vr(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Pr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Tp=["Webkit","ms","Moz","O"];Object.keys(Pr).forEach(function(e){Tp.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Pr[t]=Pr[e]})});function gd(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Pr.hasOwnProperty(e)&&Pr[e]?(""+t).trim():t+"px"}function vd(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=gd(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var Cp=ee({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ra(e,t){if(t){if(Cp[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(x(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(x(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(x(61))}if(t.style!=null&&typeof t.style!="object")throw Error(x(62))}}function sa(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ia=null;function al(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var oa=null,Yn=null,Xn=null;function gu(e){if(e=gs(e)){if(typeof oa!="function")throw Error(x(280));var t=e.stateNode;t&&(t=zi(t),oa(e.stateNode,e.type,t))}}function yd(e){Yn?Xn?Xn.push(e):Xn=[e]:Yn=e}function wd(){if(Yn){var e=Yn,t=Xn;if(Xn=Yn=null,gu(e),t)for(e=0;e<t.length;e++)gu(t[e])}}function _d(e,t){return e(t)}function Sd(){}var po=!1;function kd(e,t,n){if(po)return e(t,n);po=!0;try{return _d(e,t,n)}finally{po=!1,(Yn!==null||Xn!==null)&&(Sd(),wd())}}function Hr(e,t){var n=e.stateNode;if(n===null)return null;var r=zi(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(x(231,t,typeof n));return n}var aa=!1;if(xt)try{var wr={};Object.defineProperty(wr,"passive",{get:function(){aa=!0}}),window.addEventListener("test",wr,wr),window.removeEventListener("test",wr,wr)}catch{aa=!1}function jp(e,t,n,r,s,i,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var Ar=!1,ai=null,li=!1,la=null,Np={onError:function(e){Ar=!0,ai=e}};function Op(e,t,n,r,s,i,o,a,l){Ar=!1,ai=null,jp.apply(Np,arguments)}function Rp(e,t,n,r,s,i,o,a,l){if(Op.apply(this,arguments),Ar){if(Ar){var u=ai;Ar=!1,ai=null}else throw Error(x(198));li||(li=!0,la=u)}}function kn(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function xd(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function vu(e){if(kn(e)!==e)throw Error(x(188))}function Pp(e){var t=e.alternate;if(!t){if(t=kn(e),t===null)throw Error(x(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return vu(s),e;if(i===r)return vu(s),t;i=i.sibling}throw Error(x(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(x(189))}}if(n.alternate!==r)throw Error(x(190))}if(n.tag!==3)throw Error(x(188));return n.stateNode.current===n?e:t}function Ed(e){return e=Pp(e),e!==null?bd(e):null}function bd(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=bd(e);if(t!==null)return t;e=e.sibling}return null}var Td=Ue.unstable_scheduleCallback,yu=Ue.unstable_cancelCallback,Ap=Ue.unstable_shouldYield,Ip=Ue.unstable_requestPaint,ie=Ue.unstable_now,$p=Ue.unstable_getCurrentPriorityLevel,ll=Ue.unstable_ImmediatePriority,Cd=Ue.unstable_UserBlockingPriority,ui=Ue.unstable_NormalPriority,Lp=Ue.unstable_LowPriority,jd=Ue.unstable_IdlePriority,$i=null,pt=null;function Dp(e){if(pt&&typeof pt.onCommitFiberRoot=="function")try{pt.onCommitFiberRoot($i,e,void 0,(e.current.flags&128)===128)}catch{}}var at=Math.clz32?Math.clz32:Mp,Up=Math.log,zp=Math.LN2;function Mp(e){return e>>>=0,e===0?32:31-(Up(e)/zp|0)|0}var bs=64,Ts=4194304;function Nr(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ci(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,i=e.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=Nr(a):(i&=o,i!==0&&(r=Nr(i)))}else o=n&~s,o!==0?r=Nr(o):i!==0&&(r=Nr(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-at(t),s=1<<n,r|=e[n],t&=~s;return r}function Fp(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Bp(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-at(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=Fp(a,t)):l<=t&&(e.expiredLanes|=a),i&=~a}}function ua(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Nd(){var e=bs;return bs<<=1,!(bs&4194240)&&(bs=64),e}function mo(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function ps(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-at(t),e[t]=n}function Wp(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-at(n),i=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~i}}function ul(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-at(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var H=0;function Od(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Rd,cl,Pd,Ad,Id,ca=!1,Cs=[],Ft=null,Bt=null,Wt=null,qr=new Map,Kr=new Map,Lt=[],Vp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function wu(e,t){switch(e){case"focusin":case"focusout":Ft=null;break;case"dragenter":case"dragleave":Bt=null;break;case"mouseover":case"mouseout":Wt=null;break;case"pointerover":case"pointerout":qr.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Kr.delete(t.pointerId)}}function _r(e,t,n,r,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},t!==null&&(t=gs(t),t!==null&&cl(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function Hp(e,t,n,r,s){switch(t){case"focusin":return Ft=_r(Ft,e,t,n,r,s),!0;case"dragenter":return Bt=_r(Bt,e,t,n,r,s),!0;case"mouseover":return Wt=_r(Wt,e,t,n,r,s),!0;case"pointerover":var i=s.pointerId;return qr.set(i,_r(qr.get(i)||null,e,t,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Kr.set(i,_r(Kr.get(i)||null,e,t,n,r,s)),!0}return!1}function $d(e){var t=cn(e.target);if(t!==null){var n=kn(t);if(n!==null){if(t=n.tag,t===13){if(t=xd(n),t!==null){e.blockedOn=t,Id(e.priority,function(){Pd(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Qs(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=da(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);ia=r,n.target.dispatchEvent(r),ia=null}else return t=gs(n),t!==null&&cl(t),e.blockedOn=n,!1;t.shift()}return!0}function _u(e,t,n){Qs(e)&&n.delete(t)}function qp(){ca=!1,Ft!==null&&Qs(Ft)&&(Ft=null),Bt!==null&&Qs(Bt)&&(Bt=null),Wt!==null&&Qs(Wt)&&(Wt=null),qr.forEach(_u),Kr.forEach(_u)}function Sr(e,t){e.blockedOn===t&&(e.blockedOn=null,ca||(ca=!0,Ue.unstable_scheduleCallback(Ue.unstable_NormalPriority,qp)))}function Gr(e){function t(s){return Sr(s,e)}if(0<Cs.length){Sr(Cs[0],e);for(var n=1;n<Cs.length;n++){var r=Cs[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Ft!==null&&Sr(Ft,e),Bt!==null&&Sr(Bt,e),Wt!==null&&Sr(Wt,e),qr.forEach(t),Kr.forEach(t),n=0;n<Lt.length;n++)r=Lt[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Lt.length&&(n=Lt[0],n.blockedOn===null);)$d(n),n.blockedOn===null&&Lt.shift()}var Zn=Ct.ReactCurrentBatchConfig,di=!0;function Kp(e,t,n,r){var s=H,i=Zn.transition;Zn.transition=null;try{H=1,dl(e,t,n,r)}finally{H=s,Zn.transition=i}}function Gp(e,t,n,r){var s=H,i=Zn.transition;Zn.transition=null;try{H=4,dl(e,t,n,r)}finally{H=s,Zn.transition=i}}function dl(e,t,n,r){if(di){var s=da(e,t,n,r);if(s===null)bo(e,t,r,hi,n),wu(e,r);else if(Hp(s,e,t,n,r))r.stopPropagation();else if(wu(e,r),t&4&&-1<Vp.indexOf(e)){for(;s!==null;){var i=gs(s);if(i!==null&&Rd(i),i=da(e,t,n,r),i===null&&bo(e,t,r,hi,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else bo(e,t,r,null,n)}}var hi=null;function da(e,t,n,r){if(hi=null,e=al(r),e=cn(e),e!==null)if(t=kn(e),t===null)e=null;else if(n=t.tag,n===13){if(e=xd(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return hi=e,null}function Ld(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch($p()){case ll:return 1;case Cd:return 4;case ui:case Lp:return 16;case jd:return 536870912;default:return 16}default:return 16}}var zt=null,hl=null,Ys=null;function Dd(){if(Ys)return Ys;var e,t=hl,n=t.length,r,s="value"in zt?zt.value:zt.textContent,i=s.length;for(e=0;e<n&&t[e]===s[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===s[i-r];r++);return Ys=s.slice(e,1<r?1-r:void 0)}function Xs(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function js(){return!0}function Su(){return!1}function Me(e){function t(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?js:Su,this.isPropagationStopped=Su,this}return ee(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=js)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=js)},persist:function(){},isPersistent:js}),t}var dr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fl=Me(dr),ms=ee({},dr,{view:0,detail:0}),Jp=Me(ms),go,vo,kr,Li=ee({},ms,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:pl,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==kr&&(kr&&e.type==="mousemove"?(go=e.screenX-kr.screenX,vo=e.screenY-kr.screenY):vo=go=0,kr=e),go)},movementY:function(e){return"movementY"in e?e.movementY:vo}}),ku=Me(Li),Qp=ee({},Li,{dataTransfer:0}),Yp=Me(Qp),Xp=ee({},ms,{relatedTarget:0}),yo=Me(Xp),Zp=ee({},dr,{animationName:0,elapsedTime:0,pseudoElement:0}),em=Me(Zp),tm=ee({},dr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),nm=Me(tm),rm=ee({},dr,{data:0}),xu=Me(rm),sm={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},im={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},om={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function am(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=om[e])?!!t[e]:!1}function pl(){return am}var lm=ee({},ms,{key:function(e){if(e.key){var t=sm[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Xs(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?im[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:pl,charCode:function(e){return e.type==="keypress"?Xs(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Xs(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),um=Me(lm),cm=ee({},Li,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Eu=Me(cm),dm=ee({},ms,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:pl}),hm=Me(dm),fm=ee({},dr,{propertyName:0,elapsedTime:0,pseudoElement:0}),pm=Me(fm),mm=ee({},Li,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),gm=Me(mm),vm=[9,13,27,32],ml=xt&&"CompositionEvent"in window,Ir=null;xt&&"documentMode"in document&&(Ir=document.documentMode);var ym=xt&&"TextEvent"in window&&!Ir,Ud=xt&&(!ml||Ir&&8<Ir&&11>=Ir),bu=" ",Tu=!1;function zd(e,t){switch(e){case"keyup":return vm.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Md(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Un=!1;function wm(e,t){switch(e){case"compositionend":return Md(t);case"keypress":return t.which!==32?null:(Tu=!0,bu);case"textInput":return e=t.data,e===bu&&Tu?null:e;default:return null}}function _m(e,t){if(Un)return e==="compositionend"||!ml&&zd(e,t)?(e=Dd(),Ys=hl=zt=null,Un=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ud&&t.locale!=="ko"?null:t.data;default:return null}}var Sm={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Cu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Sm[e.type]:t==="textarea"}function Fd(e,t,n,r){yd(r),t=fi(t,"onChange"),0<t.length&&(n=new fl("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var $r=null,Jr=null;function km(e){Xd(e,0)}function Di(e){var t=Fn(e);if(dd(t))return e}function xm(e,t){if(e==="change")return t}var Bd=!1;if(xt){var wo;if(xt){var _o="oninput"in document;if(!_o){var ju=document.createElement("div");ju.setAttribute("oninput","return;"),_o=typeof ju.oninput=="function"}wo=_o}else wo=!1;Bd=wo&&(!document.documentMode||9<document.documentMode)}function Nu(){$r&&($r.detachEvent("onpropertychange",Wd),Jr=$r=null)}function Wd(e){if(e.propertyName==="value"&&Di(Jr)){var t=[];Fd(t,Jr,e,al(e)),kd(km,t)}}function Em(e,t,n){e==="focusin"?(Nu(),$r=t,Jr=n,$r.attachEvent("onpropertychange",Wd)):e==="focusout"&&Nu()}function bm(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Di(Jr)}function Tm(e,t){if(e==="click")return Di(t)}function Cm(e,t){if(e==="input"||e==="change")return Di(t)}function jm(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ut=typeof Object.is=="function"?Object.is:jm;function Qr(e,t){if(ut(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Ko.call(t,s)||!ut(e[s],t[s]))return!1}return!0}function Ou(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ru(e,t){var n=Ou(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Ou(n)}}function Vd(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Vd(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Hd(){for(var e=window,t=oi();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=oi(e.document)}return t}function gl(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Nm(e){var t=Hd(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Vd(n.ownerDocument.documentElement,n)){if(r!==null&&gl(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!e.extend&&i>r&&(s=r,r=i,i=s),s=Ru(n,i);var o=Ru(n,r);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Om=xt&&"documentMode"in document&&11>=document.documentMode,zn=null,ha=null,Lr=null,fa=!1;function Pu(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;fa||zn==null||zn!==oi(r)||(r=zn,"selectionStart"in r&&gl(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Lr&&Qr(Lr,r)||(Lr=r,r=fi(ha,"onSelect"),0<r.length&&(t=new fl("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=zn)))}function Ns(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Mn={animationend:Ns("Animation","AnimationEnd"),animationiteration:Ns("Animation","AnimationIteration"),animationstart:Ns("Animation","AnimationStart"),transitionend:Ns("Transition","TransitionEnd")},So={},qd={};xt&&(qd=document.createElement("div").style,"AnimationEvent"in window||(delete Mn.animationend.animation,delete Mn.animationiteration.animation,delete Mn.animationstart.animation),"TransitionEvent"in window||delete Mn.transitionend.transition);function Ui(e){if(So[e])return So[e];if(!Mn[e])return e;var t=Mn[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in qd)return So[e]=t[n];return e}var Kd=Ui("animationend"),Gd=Ui("animationiteration"),Jd=Ui("animationstart"),Qd=Ui("transitionend"),Yd=new Map,Au="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Yt(e,t){Yd.set(e,t),Sn(t,[e])}for(var ko=0;ko<Au.length;ko++){var xo=Au[ko],Rm=xo.toLowerCase(),Pm=xo[0].toUpperCase()+xo.slice(1);Yt(Rm,"on"+Pm)}Yt(Kd,"onAnimationEnd");Yt(Gd,"onAnimationIteration");Yt(Jd,"onAnimationStart");Yt("dblclick","onDoubleClick");Yt("focusin","onFocus");Yt("focusout","onBlur");Yt(Qd,"onTransitionEnd");rr("onMouseEnter",["mouseout","mouseover"]);rr("onMouseLeave",["mouseout","mouseover"]);rr("onPointerEnter",["pointerout","pointerover"]);rr("onPointerLeave",["pointerout","pointerover"]);Sn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Sn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Sn("onBeforeInput",["compositionend","keypress","textInput","paste"]);Sn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Sn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Sn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Or="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Am=new Set("cancel close invalid load scroll toggle".split(" ").concat(Or));function Iu(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Rp(r,t,void 0,e),e.currentTarget=null}function Xd(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;Iu(s,a,u),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;Iu(s,a,u),i=l}}}if(li)throw e=la,li=!1,la=null,e}function J(e,t){var n=t[ya];n===void 0&&(n=t[ya]=new Set);var r=e+"__bubble";n.has(r)||(Zd(t,e,2,!1),n.add(r))}function Eo(e,t,n){var r=0;t&&(r|=4),Zd(n,e,r,t)}var Os="_reactListening"+Math.random().toString(36).slice(2);function Yr(e){if(!e[Os]){e[Os]=!0,od.forEach(function(n){n!=="selectionchange"&&(Am.has(n)||Eo(n,!1,e),Eo(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Os]||(t[Os]=!0,Eo("selectionchange",!1,t))}}function Zd(e,t,n,r){switch(Ld(t)){case 1:var s=Kp;break;case 4:s=Gp;break;default:s=dl}n=s.bind(null,t,n,e),s=void 0,!aa||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function bo(e,t,n,r,s){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=cn(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}kd(function(){var u=i,c=al(n),g=[];e:{var f=Yd.get(e);if(f!==void 0){var v=fl,w=e;switch(e){case"keypress":if(Xs(n)===0)break e;case"keydown":case"keyup":v=um;break;case"focusin":w="focus",v=yo;break;case"focusout":w="blur",v=yo;break;case"beforeblur":case"afterblur":v=yo;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=ku;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=Yp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=hm;break;case Kd:case Gd:case Jd:v=em;break;case Qd:v=pm;break;case"scroll":v=Jp;break;case"wheel":v=gm;break;case"copy":case"cut":case"paste":v=nm;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=Eu}var _=(t&4)!==0,k=!_&&e==="scroll",p=_?f!==null?f+"Capture":null:f;_=[];for(var d=u,m;d!==null;){m=d;var S=m.stateNode;if(m.tag===5&&S!==null&&(m=S,p!==null&&(S=Hr(d,p),S!=null&&_.push(Xr(d,S,m)))),k)break;d=d.return}0<_.length&&(f=new v(f,w,null,n,c),g.push({event:f,listeners:_}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",v=e==="mouseout"||e==="pointerout",f&&n!==ia&&(w=n.relatedTarget||n.fromElement)&&(cn(w)||w[Et]))break e;if((v||f)&&(f=c.window===c?c:(f=c.ownerDocument)?f.defaultView||f.parentWindow:window,v?(w=n.relatedTarget||n.toElement,v=u,w=w?cn(w):null,w!==null&&(k=kn(w),w!==k||w.tag!==5&&w.tag!==6)&&(w=null)):(v=null,w=u),v!==w)){if(_=ku,S="onMouseLeave",p="onMouseEnter",d="mouse",(e==="pointerout"||e==="pointerover")&&(_=Eu,S="onPointerLeave",p="onPointerEnter",d="pointer"),k=v==null?f:Fn(v),m=w==null?f:Fn(w),f=new _(S,d+"leave",v,n,c),f.target=k,f.relatedTarget=m,S=null,cn(c)===u&&(_=new _(p,d+"enter",w,n,c),_.target=m,_.relatedTarget=k,S=_),k=S,v&&w)t:{for(_=v,p=w,d=0,m=_;m;m=Tn(m))d++;for(m=0,S=p;S;S=Tn(S))m++;for(;0<d-m;)_=Tn(_),d--;for(;0<m-d;)p=Tn(p),m--;for(;d--;){if(_===p||p!==null&&_===p.alternate)break t;_=Tn(_),p=Tn(p)}_=null}else _=null;v!==null&&$u(g,f,v,_,!1),w!==null&&k!==null&&$u(g,k,w,_,!0)}}e:{if(f=u?Fn(u):window,v=f.nodeName&&f.nodeName.toLowerCase(),v==="select"||v==="input"&&f.type==="file")var E=xm;else if(Cu(f))if(Bd)E=Cm;else{E=bm;var b=Em}else(v=f.nodeName)&&v.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(E=Tm);if(E&&(E=E(e,u))){Fd(g,E,n,c);break e}b&&b(e,f,u),e==="focusout"&&(b=f._wrapperState)&&b.controlled&&f.type==="number"&&ea(f,"number",f.value)}switch(b=u?Fn(u):window,e){case"focusin":(Cu(b)||b.contentEditable==="true")&&(zn=b,ha=u,Lr=null);break;case"focusout":Lr=ha=zn=null;break;case"mousedown":fa=!0;break;case"contextmenu":case"mouseup":case"dragend":fa=!1,Pu(g,n,c);break;case"selectionchange":if(Om)break;case"keydown":case"keyup":Pu(g,n,c)}var C;if(ml)e:{switch(e){case"compositionstart":var N="onCompositionStart";break e;case"compositionend":N="onCompositionEnd";break e;case"compositionupdate":N="onCompositionUpdate";break e}N=void 0}else Un?zd(e,n)&&(N="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(N="onCompositionStart");N&&(Ud&&n.locale!=="ko"&&(Un||N!=="onCompositionStart"?N==="onCompositionEnd"&&Un&&(C=Dd()):(zt=c,hl="value"in zt?zt.value:zt.textContent,Un=!0)),b=fi(u,N),0<b.length&&(N=new xu(N,e,null,n,c),g.push({event:N,listeners:b}),C?N.data=C:(C=Md(n),C!==null&&(N.data=C)))),(C=ym?wm(e,n):_m(e,n))&&(u=fi(u,"onBeforeInput"),0<u.length&&(c=new xu("onBeforeInput","beforeinput",null,n,c),g.push({event:c,listeners:u}),c.data=C))}Xd(g,t)})}function Xr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function fi(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Hr(e,n),i!=null&&r.unshift(Xr(e,i,s)),i=Hr(e,t),i!=null&&r.push(Xr(e,i,s))),e=e.return}return r}function Tn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function $u(e,t,n,r,s){for(var i=t._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,s?(l=Hr(n,i),l!=null&&o.unshift(Xr(n,l,a))):s||(l=Hr(n,i),l!=null&&o.push(Xr(n,l,a)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var Im=/\r\n?/g,$m=/\u0000|\uFFFD/g;function Lu(e){return(typeof e=="string"?e:""+e).replace(Im,`
`).replace($m,"")}function Rs(e,t,n){if(t=Lu(t),Lu(e)!==t&&n)throw Error(x(425))}function pi(){}var pa=null,ma=null;function ga(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var va=typeof setTimeout=="function"?setTimeout:void 0,Lm=typeof clearTimeout=="function"?clearTimeout:void 0,Du=typeof Promise=="function"?Promise:void 0,Dm=typeof queueMicrotask=="function"?queueMicrotask:typeof Du<"u"?function(e){return Du.resolve(null).then(e).catch(Um)}:va;function Um(e){setTimeout(function(){throw e})}function To(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),Gr(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Gr(t)}function Vt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Uu(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var hr=Math.random().toString(36).slice(2),ft="__reactFiber$"+hr,Zr="__reactProps$"+hr,Et="__reactContainer$"+hr,ya="__reactEvents$"+hr,zm="__reactListeners$"+hr,Mm="__reactHandles$"+hr;function cn(e){var t=e[ft];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Et]||n[ft]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Uu(e);e!==null;){if(n=e[ft])return n;e=Uu(e)}return t}e=n,n=e.parentNode}return null}function gs(e){return e=e[ft]||e[Et],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Fn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(x(33))}function zi(e){return e[Zr]||null}var wa=[],Bn=-1;function Xt(e){return{current:e}}function Q(e){0>Bn||(e.current=wa[Bn],wa[Bn]=null,Bn--)}function G(e,t){Bn++,wa[Bn]=e.current,e.current=t}var Qt={},Se=Xt(Qt),je=Xt(!1),gn=Qt;function sr(e,t){var n=e.type.contextTypes;if(!n)return Qt;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Ne(e){return e=e.childContextTypes,e!=null}function mi(){Q(je),Q(Se)}function zu(e,t,n){if(Se.current!==Qt)throw Error(x(168));G(Se,t),G(je,n)}function eh(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(x(108,Ep(e)||"Unknown",s));return ee({},n,r)}function gi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Qt,gn=Se.current,G(Se,e),G(je,je.current),!0}function Mu(e,t,n){var r=e.stateNode;if(!r)throw Error(x(169));n?(e=eh(e,t,gn),r.__reactInternalMemoizedMergedChildContext=e,Q(je),Q(Se),G(Se,e)):Q(je),G(je,n)}var wt=null,Mi=!1,Co=!1;function th(e){wt===null?wt=[e]:wt.push(e)}function Fm(e){Mi=!0,th(e)}function Zt(){if(!Co&&wt!==null){Co=!0;var e=0,t=H;try{var n=wt;for(H=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}wt=null,Mi=!1}catch(s){throw wt!==null&&(wt=wt.slice(e+1)),Td(ll,Zt),s}finally{H=t,Co=!1}}return null}var Wn=[],Vn=0,vi=null,yi=0,He=[],qe=0,vn=null,_t=1,St="";function sn(e,t){Wn[Vn++]=yi,Wn[Vn++]=vi,vi=e,yi=t}function nh(e,t,n){He[qe++]=_t,He[qe++]=St,He[qe++]=vn,vn=e;var r=_t;e=St;var s=32-at(r)-1;r&=~(1<<s),n+=1;var i=32-at(t)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,_t=1<<32-at(t)+s|n<<s|r,St=i+e}else _t=1<<i|n<<s|r,St=e}function vl(e){e.return!==null&&(sn(e,1),nh(e,1,0))}function yl(e){for(;e===vi;)vi=Wn[--Vn],Wn[Vn]=null,yi=Wn[--Vn],Wn[Vn]=null;for(;e===vn;)vn=He[--qe],He[qe]=null,St=He[--qe],He[qe]=null,_t=He[--qe],He[qe]=null}var De=null,Le=null,Y=!1,ot=null;function rh(e,t){var n=Ke(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Fu(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,De=e,Le=Vt(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,De=e,Le=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=vn!==null?{id:_t,overflow:St}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Ke(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,De=e,Le=null,!0):!1;default:return!1}}function _a(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Sa(e){if(Y){var t=Le;if(t){var n=t;if(!Fu(e,t)){if(_a(e))throw Error(x(418));t=Vt(n.nextSibling);var r=De;t&&Fu(e,t)?rh(r,n):(e.flags=e.flags&-4097|2,Y=!1,De=e)}}else{if(_a(e))throw Error(x(418));e.flags=e.flags&-4097|2,Y=!1,De=e}}}function Bu(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;De=e}function Ps(e){if(e!==De)return!1;if(!Y)return Bu(e),Y=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!ga(e.type,e.memoizedProps)),t&&(t=Le)){if(_a(e))throw sh(),Error(x(418));for(;t;)rh(e,t),t=Vt(t.nextSibling)}if(Bu(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(x(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Le=Vt(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Le=null}}else Le=De?Vt(e.stateNode.nextSibling):null;return!0}function sh(){for(var e=Le;e;)e=Vt(e.nextSibling)}function ir(){Le=De=null,Y=!1}function wl(e){ot===null?ot=[e]:ot.push(e)}var Bm=Ct.ReactCurrentBatchConfig;function xr(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(x(309));var r=n.stateNode}if(!r)throw Error(x(147,e));var s=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(x(284));if(!n._owner)throw Error(x(290,e))}return e}function As(e,t){throw e=Object.prototype.toString.call(t),Error(x(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Wu(e){var t=e._init;return t(e._payload)}function ih(e){function t(p,d){if(e){var m=p.deletions;m===null?(p.deletions=[d],p.flags|=16):m.push(d)}}function n(p,d){if(!e)return null;for(;d!==null;)t(p,d),d=d.sibling;return null}function r(p,d){for(p=new Map;d!==null;)d.key!==null?p.set(d.key,d):p.set(d.index,d),d=d.sibling;return p}function s(p,d){return p=Gt(p,d),p.index=0,p.sibling=null,p}function i(p,d,m){return p.index=m,e?(m=p.alternate,m!==null?(m=m.index,m<d?(p.flags|=2,d):m):(p.flags|=2,d)):(p.flags|=1048576,d)}function o(p){return e&&p.alternate===null&&(p.flags|=2),p}function a(p,d,m,S){return d===null||d.tag!==6?(d=Io(m,p.mode,S),d.return=p,d):(d=s(d,m),d.return=p,d)}function l(p,d,m,S){var E=m.type;return E===Dn?c(p,d,m.props.children,S,m.key):d!==null&&(d.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===At&&Wu(E)===d.type)?(S=s(d,m.props),S.ref=xr(p,d,m),S.return=p,S):(S=ii(m.type,m.key,m.props,null,p.mode,S),S.ref=xr(p,d,m),S.return=p,S)}function u(p,d,m,S){return d===null||d.tag!==4||d.stateNode.containerInfo!==m.containerInfo||d.stateNode.implementation!==m.implementation?(d=$o(m,p.mode,S),d.return=p,d):(d=s(d,m.children||[]),d.return=p,d)}function c(p,d,m,S,E){return d===null||d.tag!==7?(d=mn(m,p.mode,S,E),d.return=p,d):(d=s(d,m),d.return=p,d)}function g(p,d,m){if(typeof d=="string"&&d!==""||typeof d=="number")return d=Io(""+d,p.mode,m),d.return=p,d;if(typeof d=="object"&&d!==null){switch(d.$$typeof){case ks:return m=ii(d.type,d.key,d.props,null,p.mode,m),m.ref=xr(p,null,d),m.return=p,m;case Ln:return d=$o(d,p.mode,m),d.return=p,d;case At:var S=d._init;return g(p,S(d._payload),m)}if(jr(d)||yr(d))return d=mn(d,p.mode,m,null),d.return=p,d;As(p,d)}return null}function f(p,d,m,S){var E=d!==null?d.key:null;if(typeof m=="string"&&m!==""||typeof m=="number")return E!==null?null:a(p,d,""+m,S);if(typeof m=="object"&&m!==null){switch(m.$$typeof){case ks:return m.key===E?l(p,d,m,S):null;case Ln:return m.key===E?u(p,d,m,S):null;case At:return E=m._init,f(p,d,E(m._payload),S)}if(jr(m)||yr(m))return E!==null?null:c(p,d,m,S,null);As(p,m)}return null}function v(p,d,m,S,E){if(typeof S=="string"&&S!==""||typeof S=="number")return p=p.get(m)||null,a(d,p,""+S,E);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case ks:return p=p.get(S.key===null?m:S.key)||null,l(d,p,S,E);case Ln:return p=p.get(S.key===null?m:S.key)||null,u(d,p,S,E);case At:var b=S._init;return v(p,d,m,b(S._payload),E)}if(jr(S)||yr(S))return p=p.get(m)||null,c(d,p,S,E,null);As(d,S)}return null}function w(p,d,m,S){for(var E=null,b=null,C=d,N=d=0,U=null;C!==null&&N<m.length;N++){C.index>N?(U=C,C=null):U=C.sibling;var z=f(p,C,m[N],S);if(z===null){C===null&&(C=U);break}e&&C&&z.alternate===null&&t(p,C),d=i(z,d,N),b===null?E=z:b.sibling=z,b=z,C=U}if(N===m.length)return n(p,C),Y&&sn(p,N),E;if(C===null){for(;N<m.length;N++)C=g(p,m[N],S),C!==null&&(d=i(C,d,N),b===null?E=C:b.sibling=C,b=C);return Y&&sn(p,N),E}for(C=r(p,C);N<m.length;N++)U=v(C,p,N,m[N],S),U!==null&&(e&&U.alternate!==null&&C.delete(U.key===null?N:U.key),d=i(U,d,N),b===null?E=U:b.sibling=U,b=U);return e&&C.forEach(function(te){return t(p,te)}),Y&&sn(p,N),E}function _(p,d,m,S){var E=yr(m);if(typeof E!="function")throw Error(x(150));if(m=E.call(m),m==null)throw Error(x(151));for(var b=E=null,C=d,N=d=0,U=null,z=m.next();C!==null&&!z.done;N++,z=m.next()){C.index>N?(U=C,C=null):U=C.sibling;var te=f(p,C,z.value,S);if(te===null){C===null&&(C=U);break}e&&C&&te.alternate===null&&t(p,C),d=i(te,d,N),b===null?E=te:b.sibling=te,b=te,C=U}if(z.done)return n(p,C),Y&&sn(p,N),E;if(C===null){for(;!z.done;N++,z=m.next())z=g(p,z.value,S),z!==null&&(d=i(z,d,N),b===null?E=z:b.sibling=z,b=z);return Y&&sn(p,N),E}for(C=r(p,C);!z.done;N++,z=m.next())z=v(C,p,N,z.value,S),z!==null&&(e&&z.alternate!==null&&C.delete(z.key===null?N:z.key),d=i(z,d,N),b===null?E=z:b.sibling=z,b=z);return e&&C.forEach(function(Fe){return t(p,Fe)}),Y&&sn(p,N),E}function k(p,d,m,S){if(typeof m=="object"&&m!==null&&m.type===Dn&&m.key===null&&(m=m.props.children),typeof m=="object"&&m!==null){switch(m.$$typeof){case ks:e:{for(var E=m.key,b=d;b!==null;){if(b.key===E){if(E=m.type,E===Dn){if(b.tag===7){n(p,b.sibling),d=s(b,m.props.children),d.return=p,p=d;break e}}else if(b.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===At&&Wu(E)===b.type){n(p,b.sibling),d=s(b,m.props),d.ref=xr(p,b,m),d.return=p,p=d;break e}n(p,b);break}else t(p,b);b=b.sibling}m.type===Dn?(d=mn(m.props.children,p.mode,S,m.key),d.return=p,p=d):(S=ii(m.type,m.key,m.props,null,p.mode,S),S.ref=xr(p,d,m),S.return=p,p=S)}return o(p);case Ln:e:{for(b=m.key;d!==null;){if(d.key===b)if(d.tag===4&&d.stateNode.containerInfo===m.containerInfo&&d.stateNode.implementation===m.implementation){n(p,d.sibling),d=s(d,m.children||[]),d.return=p,p=d;break e}else{n(p,d);break}else t(p,d);d=d.sibling}d=$o(m,p.mode,S),d.return=p,p=d}return o(p);case At:return b=m._init,k(p,d,b(m._payload),S)}if(jr(m))return w(p,d,m,S);if(yr(m))return _(p,d,m,S);As(p,m)}return typeof m=="string"&&m!==""||typeof m=="number"?(m=""+m,d!==null&&d.tag===6?(n(p,d.sibling),d=s(d,m),d.return=p,p=d):(n(p,d),d=Io(m,p.mode,S),d.return=p,p=d),o(p)):n(p,d)}return k}var or=ih(!0),oh=ih(!1),wi=Xt(null),_i=null,Hn=null,_l=null;function Sl(){_l=Hn=_i=null}function kl(e){var t=wi.current;Q(wi),e._currentValue=t}function ka(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function er(e,t){_i=e,_l=Hn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ce=!0),e.firstContext=null)}function Je(e){var t=e._currentValue;if(_l!==e)if(e={context:e,memoizedValue:t,next:null},Hn===null){if(_i===null)throw Error(x(308));Hn=e,_i.dependencies={lanes:0,firstContext:e}}else Hn=Hn.next=e;return t}var dn=null;function xl(e){dn===null?dn=[e]:dn.push(e)}function ah(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,xl(t)):(n.next=s.next,s.next=n),t.interleaved=n,bt(e,r)}function bt(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var It=!1;function El(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function lh(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function kt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ht(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,V&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,bt(e,n)}return s=r.interleaved,s===null?(t.next=t,xl(r)):(t.next=s.next,s.next=t),r.interleaved=t,bt(e,n)}function Zs(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,ul(e,n)}}function Vu(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=t:i=i.next=t}else s=i=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Si(e,t,n,r){var s=e.updateQueue;It=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?i=u:o.next=u,o=l;var c=e.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(i!==null){var g=s.baseState;o=0,c=u=l=null,a=i;do{var f=a.lane,v=a.eventTime;if((r&f)===f){c!==null&&(c=c.next={eventTime:v,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var w=e,_=a;switch(f=t,v=n,_.tag){case 1:if(w=_.payload,typeof w=="function"){g=w.call(v,g,f);break e}g=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=_.payload,f=typeof w=="function"?w.call(v,g,f):w,f==null)break e;g=ee({},g,f);break e;case 2:It=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,f=s.effects,f===null?s.effects=[a]:f.push(a))}else v={eventTime:v,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=v,l=g):c=c.next=v,o|=f;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;f=a,a=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(c===null&&(l=g),s.baseState=l,s.firstBaseUpdate=u,s.lastBaseUpdate=c,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);wn|=o,e.lanes=o,e.memoizedState=g}}function Hu(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(x(191,s));s.call(r)}}}var vs={},mt=Xt(vs),es=Xt(vs),ts=Xt(vs);function hn(e){if(e===vs)throw Error(x(174));return e}function bl(e,t){switch(G(ts,t),G(es,e),G(mt,vs),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:na(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=na(t,e)}Q(mt),G(mt,t)}function ar(){Q(mt),Q(es),Q(ts)}function uh(e){hn(ts.current);var t=hn(mt.current),n=na(t,e.type);t!==n&&(G(es,e),G(mt,n))}function Tl(e){es.current===e&&(Q(mt),Q(es))}var X=Xt(0);function ki(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var jo=[];function Cl(){for(var e=0;e<jo.length;e++)jo[e]._workInProgressVersionPrimary=null;jo.length=0}var ei=Ct.ReactCurrentDispatcher,No=Ct.ReactCurrentBatchConfig,yn=0,Z=null,ue=null,de=null,xi=!1,Dr=!1,ns=0,Wm=0;function ye(){throw Error(x(321))}function jl(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ut(e[n],t[n]))return!1;return!0}function Nl(e,t,n,r,s,i){if(yn=i,Z=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ei.current=e===null||e.memoizedState===null?Km:Gm,e=n(r,s),Dr){i=0;do{if(Dr=!1,ns=0,25<=i)throw Error(x(301));i+=1,de=ue=null,t.updateQueue=null,ei.current=Jm,e=n(r,s)}while(Dr)}if(ei.current=Ei,t=ue!==null&&ue.next!==null,yn=0,de=ue=Z=null,xi=!1,t)throw Error(x(300));return e}function Ol(){var e=ns!==0;return ns=0,e}function ht(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return de===null?Z.memoizedState=de=e:de=de.next=e,de}function Qe(){if(ue===null){var e=Z.alternate;e=e!==null?e.memoizedState:null}else e=ue.next;var t=de===null?Z.memoizedState:de.next;if(t!==null)de=t,ue=e;else{if(e===null)throw Error(x(310));ue=e,e={memoizedState:ue.memoizedState,baseState:ue.baseState,baseQueue:ue.baseQueue,queue:ue.queue,next:null},de===null?Z.memoizedState=de=e:de=de.next=e}return de}function rs(e,t){return typeof t=="function"?t(e):t}function Oo(e){var t=Qe(),n=t.queue;if(n===null)throw Error(x(311));n.lastRenderedReducer=e;var r=ue,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,u=i;do{var c=u.lane;if((yn&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var g={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=g,o=r):l=l.next=g,Z.lanes|=c,wn|=c}u=u.next}while(u!==null&&u!==i);l===null?o=r:l.next=a,ut(r,t.memoizedState)||(Ce=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do i=s.lane,Z.lanes|=i,wn|=i,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ro(e){var t=Qe(),n=t.queue;if(n===null)throw Error(x(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,i=t.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);ut(i,t.memoizedState)||(Ce=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function ch(){}function dh(e,t){var n=Z,r=Qe(),s=t(),i=!ut(r.memoizedState,s);if(i&&(r.memoizedState=s,Ce=!0),r=r.queue,Rl(ph.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||de!==null&&de.memoizedState.tag&1){if(n.flags|=2048,ss(9,fh.bind(null,n,r,s,t),void 0,null),he===null)throw Error(x(349));yn&30||hh(n,t,s)}return s}function hh(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Z.updateQueue,t===null?(t={lastEffect:null,stores:null},Z.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function fh(e,t,n,r){t.value=n,t.getSnapshot=r,mh(t)&&gh(e)}function ph(e,t,n){return n(function(){mh(t)&&gh(e)})}function mh(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ut(e,n)}catch{return!0}}function gh(e){var t=bt(e,1);t!==null&&lt(t,e,1,-1)}function qu(e){var t=ht();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:rs,lastRenderedState:e},t.queue=e,e=e.dispatch=qm.bind(null,Z,e),[t.memoizedState,e]}function ss(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Z.updateQueue,t===null?(t={lastEffect:null,stores:null},Z.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function vh(){return Qe().memoizedState}function ti(e,t,n,r){var s=ht();Z.flags|=e,s.memoizedState=ss(1|t,n,void 0,r===void 0?null:r)}function Fi(e,t,n,r){var s=Qe();r=r===void 0?null:r;var i=void 0;if(ue!==null){var o=ue.memoizedState;if(i=o.destroy,r!==null&&jl(r,o.deps)){s.memoizedState=ss(t,n,i,r);return}}Z.flags|=e,s.memoizedState=ss(1|t,n,i,r)}function Ku(e,t){return ti(8390656,8,e,t)}function Rl(e,t){return Fi(2048,8,e,t)}function yh(e,t){return Fi(4,2,e,t)}function wh(e,t){return Fi(4,4,e,t)}function _h(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Sh(e,t,n){return n=n!=null?n.concat([e]):null,Fi(4,4,_h.bind(null,t,e),n)}function Pl(){}function kh(e,t){var n=Qe();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&jl(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function xh(e,t){var n=Qe();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&jl(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Eh(e,t,n){return yn&21?(ut(n,t)||(n=Nd(),Z.lanes|=n,wn|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ce=!0),e.memoizedState=n)}function Vm(e,t){var n=H;H=n!==0&&4>n?n:4,e(!0);var r=No.transition;No.transition={};try{e(!1),t()}finally{H=n,No.transition=r}}function bh(){return Qe().memoizedState}function Hm(e,t,n){var r=Kt(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Th(e))Ch(t,n);else if(n=ah(e,t,n,r),n!==null){var s=xe();lt(n,e,r,s),jh(n,t,r)}}function qm(e,t,n){var r=Kt(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Th(e))Ch(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,ut(a,o)){var l=t.interleaved;l===null?(s.next=s,xl(t)):(s.next=l.next,l.next=s),t.interleaved=s;return}}catch{}finally{}n=ah(e,t,s,r),n!==null&&(s=xe(),lt(n,e,r,s),jh(n,t,r))}}function Th(e){var t=e.alternate;return e===Z||t!==null&&t===Z}function Ch(e,t){Dr=xi=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function jh(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,ul(e,n)}}var Ei={readContext:Je,useCallback:ye,useContext:ye,useEffect:ye,useImperativeHandle:ye,useInsertionEffect:ye,useLayoutEffect:ye,useMemo:ye,useReducer:ye,useRef:ye,useState:ye,useDebugValue:ye,useDeferredValue:ye,useTransition:ye,useMutableSource:ye,useSyncExternalStore:ye,useId:ye,unstable_isNewReconciler:!1},Km={readContext:Je,useCallback:function(e,t){return ht().memoizedState=[e,t===void 0?null:t],e},useContext:Je,useEffect:Ku,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,ti(4194308,4,_h.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ti(4194308,4,e,t)},useInsertionEffect:function(e,t){return ti(4,2,e,t)},useMemo:function(e,t){var n=ht();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ht();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Hm.bind(null,Z,e),[r.memoizedState,e]},useRef:function(e){var t=ht();return e={current:e},t.memoizedState=e},useState:qu,useDebugValue:Pl,useDeferredValue:function(e){return ht().memoizedState=e},useTransition:function(){var e=qu(!1),t=e[0];return e=Vm.bind(null,e[1]),ht().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Z,s=ht();if(Y){if(n===void 0)throw Error(x(407));n=n()}else{if(n=t(),he===null)throw Error(x(349));yn&30||hh(r,t,n)}s.memoizedState=n;var i={value:n,getSnapshot:t};return s.queue=i,Ku(ph.bind(null,r,i,e),[e]),r.flags|=2048,ss(9,fh.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=ht(),t=he.identifierPrefix;if(Y){var n=St,r=_t;n=(r&~(1<<32-at(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=ns++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Wm++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Gm={readContext:Je,useCallback:kh,useContext:Je,useEffect:Rl,useImperativeHandle:Sh,useInsertionEffect:yh,useLayoutEffect:wh,useMemo:xh,useReducer:Oo,useRef:vh,useState:function(){return Oo(rs)},useDebugValue:Pl,useDeferredValue:function(e){var t=Qe();return Eh(t,ue.memoizedState,e)},useTransition:function(){var e=Oo(rs)[0],t=Qe().memoizedState;return[e,t]},useMutableSource:ch,useSyncExternalStore:dh,useId:bh,unstable_isNewReconciler:!1},Jm={readContext:Je,useCallback:kh,useContext:Je,useEffect:Rl,useImperativeHandle:Sh,useInsertionEffect:yh,useLayoutEffect:wh,useMemo:xh,useReducer:Ro,useRef:vh,useState:function(){return Ro(rs)},useDebugValue:Pl,useDeferredValue:function(e){var t=Qe();return ue===null?t.memoizedState=e:Eh(t,ue.memoizedState,e)},useTransition:function(){var e=Ro(rs)[0],t=Qe().memoizedState;return[e,t]},useMutableSource:ch,useSyncExternalStore:dh,useId:bh,unstable_isNewReconciler:!1};function nt(e,t){if(e&&e.defaultProps){t=ee({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function xa(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:ee({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Bi={isMounted:function(e){return(e=e._reactInternals)?kn(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=xe(),s=Kt(e),i=kt(r,s);i.payload=t,n!=null&&(i.callback=n),t=Ht(e,i,s),t!==null&&(lt(t,e,s,r),Zs(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=xe(),s=Kt(e),i=kt(r,s);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=Ht(e,i,s),t!==null&&(lt(t,e,s,r),Zs(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=xe(),r=Kt(e),s=kt(n,r);s.tag=2,t!=null&&(s.callback=t),t=Ht(e,s,r),t!==null&&(lt(t,e,r,n),Zs(t,e,r))}};function Gu(e,t,n,r,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,o):t.prototype&&t.prototype.isPureReactComponent?!Qr(n,r)||!Qr(s,i):!0}function Nh(e,t,n){var r=!1,s=Qt,i=t.contextType;return typeof i=="object"&&i!==null?i=Je(i):(s=Ne(t)?gn:Se.current,r=t.contextTypes,i=(r=r!=null)?sr(e,s):Qt),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Bi,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function Ju(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Bi.enqueueReplaceState(t,t.state,null)}function Ea(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},El(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=Je(i):(i=Ne(t)?gn:Se.current,s.context=sr(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(xa(e,t,i,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Bi.enqueueReplaceState(s,s.state,null),Si(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function lr(e,t){try{var n="",r=t;do n+=xp(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function Po(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function ba(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Qm=typeof WeakMap=="function"?WeakMap:Map;function Oh(e,t,n){n=kt(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ti||(Ti=!0,$a=r),ba(e,t)},n}function Rh(e,t,n){n=kt(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){ba(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){ba(e,t),typeof r!="function"&&(qt===null?qt=new Set([this]):qt.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function Qu(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Qm;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=cg.bind(null,e,t,n),t.then(e,e))}function Yu(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Xu(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=kt(-1,1),t.tag=2,Ht(n,t,1))),n.lanes|=1),e)}var Ym=Ct.ReactCurrentOwner,Ce=!1;function ke(e,t,n,r){t.child=e===null?oh(t,null,n,r):or(t,e.child,n,r)}function Zu(e,t,n,r,s){n=n.render;var i=t.ref;return er(t,s),r=Nl(e,t,n,r,i,s),n=Ol(),e!==null&&!Ce?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Tt(e,t,s)):(Y&&n&&vl(t),t.flags|=1,ke(e,t,r,s),t.child)}function ec(e,t,n,r,s){if(e===null){var i=n.type;return typeof i=="function"&&!Ml(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,Ph(e,t,i,r,s)):(e=ii(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Qr,n(o,r)&&e.ref===t.ref)return Tt(e,t,s)}return t.flags|=1,e=Gt(i,r),e.ref=t.ref,e.return=t,t.child=e}function Ph(e,t,n,r,s){if(e!==null){var i=e.memoizedProps;if(Qr(i,r)&&e.ref===t.ref)if(Ce=!1,t.pendingProps=r=i,(e.lanes&s)!==0)e.flags&131072&&(Ce=!0);else return t.lanes=e.lanes,Tt(e,t,s)}return Ta(e,t,n,r,s)}function Ah(e,t,n){var r=t.pendingProps,s=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},G(Kn,Ie),Ie|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,G(Kn,Ie),Ie|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,G(Kn,Ie),Ie|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,G(Kn,Ie),Ie|=r;return ke(e,t,s,n),t.child}function Ih(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ta(e,t,n,r,s){var i=Ne(n)?gn:Se.current;return i=sr(t,i),er(t,s),n=Nl(e,t,n,r,i,s),r=Ol(),e!==null&&!Ce?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Tt(e,t,s)):(Y&&r&&vl(t),t.flags|=1,ke(e,t,n,s),t.child)}function tc(e,t,n,r,s){if(Ne(n)){var i=!0;gi(t)}else i=!1;if(er(t,s),t.stateNode===null)ni(e,t),Nh(t,n,r),Ea(t,n,r,s),r=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Je(u):(u=Ne(n)?gn:Se.current,u=sr(t,u));var c=n.getDerivedStateFromProps,g=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";g||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&Ju(t,o,r,u),It=!1;var f=t.memoizedState;o.state=f,Si(t,r,o,s),l=t.memoizedState,a!==r||f!==l||je.current||It?(typeof c=="function"&&(xa(t,n,c,r),l=t.memoizedState),(a=It||Gu(t,n,a,r,f,l,u))?(g||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,lh(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:nt(t.type,a),o.props=u,g=t.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Je(l):(l=Ne(n)?gn:Se.current,l=sr(t,l));var v=n.getDerivedStateFromProps;(c=typeof v=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==g||f!==l)&&Ju(t,o,r,l),It=!1,f=t.memoizedState,o.state=f,Si(t,r,o,s);var w=t.memoizedState;a!==g||f!==w||je.current||It?(typeof v=="function"&&(xa(t,n,v,r),w=t.memoizedState),(u=It||Gu(t,n,u,r,f,w,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,w,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,w,l)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=w),o.props=r,o.state=w,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return Ca(e,t,n,r,i,s)}function Ca(e,t,n,r,s,i){Ih(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return s&&Mu(t,n,!1),Tt(e,t,i);r=t.stateNode,Ym.current=t;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=or(t,e.child,null,i),t.child=or(t,null,a,i)):ke(e,t,a,i),t.memoizedState=r.state,s&&Mu(t,n,!0),t.child}function $h(e){var t=e.stateNode;t.pendingContext?zu(e,t.pendingContext,t.pendingContext!==t.context):t.context&&zu(e,t.context,!1),bl(e,t.containerInfo)}function nc(e,t,n,r,s){return ir(),wl(s),t.flags|=256,ke(e,t,n,r),t.child}var ja={dehydrated:null,treeContext:null,retryLane:0};function Na(e){return{baseLanes:e,cachePool:null,transitions:null}}function Lh(e,t,n){var r=t.pendingProps,s=X.current,i=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(s&2)!==0),a?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),G(X,s&1),e===null)return Sa(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,i?(r=t.mode,i=t.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Hi(o,r,0,null),e=mn(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Na(n),t.memoizedState=ja,e):Al(t,o));if(s=e.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return Xm(e,t,o,r,a,s,n);if(i){i=r.fallback,o=t.mode,s=e.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=Gt(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=Gt(a,i):(i=mn(i,o,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,o=e.child.memoizedState,o=o===null?Na(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~n,t.memoizedState=ja,r}return i=e.child,e=i.sibling,r=Gt(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Al(e,t){return t=Hi({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Is(e,t,n,r){return r!==null&&wl(r),or(t,e.child,null,n),e=Al(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Xm(e,t,n,r,s,i,o){if(n)return t.flags&256?(t.flags&=-257,r=Po(Error(x(422))),Is(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,s=t.mode,r=Hi({mode:"visible",children:r.children},s,0,null),i=mn(i,s,o,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&or(t,e.child,null,o),t.child.memoizedState=Na(o),t.memoizedState=ja,i);if(!(t.mode&1))return Is(e,t,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(x(419)),r=Po(i,r,void 0),Is(e,t,o,r)}if(a=(o&e.childLanes)!==0,Ce||a){if(r=he,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,bt(e,s),lt(r,e,s,-1))}return zl(),r=Po(Error(x(421))),Is(e,t,o,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=dg.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,Le=Vt(s.nextSibling),De=t,Y=!0,ot=null,e!==null&&(He[qe++]=_t,He[qe++]=St,He[qe++]=vn,_t=e.id,St=e.overflow,vn=t),t=Al(t,r.children),t.flags|=4096,t)}function rc(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),ka(e.return,t,n)}function Ao(e,t,n,r,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function Dh(e,t,n){var r=t.pendingProps,s=r.revealOrder,i=r.tail;if(ke(e,t,r.children,n),r=X.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&rc(e,n,t);else if(e.tag===19)rc(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(G(X,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&ki(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),Ao(t,!1,s,n,i);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&ki(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}Ao(t,!0,n,null,i);break;case"together":Ao(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ni(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Tt(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),wn|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(x(153));if(t.child!==null){for(e=t.child,n=Gt(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Gt(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Zm(e,t,n){switch(t.tag){case 3:$h(t),ir();break;case 5:uh(t);break;case 1:Ne(t.type)&&gi(t);break;case 4:bl(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;G(wi,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(G(X,X.current&1),t.flags|=128,null):n&t.child.childLanes?Lh(e,t,n):(G(X,X.current&1),e=Tt(e,t,n),e!==null?e.sibling:null);G(X,X.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Dh(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),G(X,X.current),r)break;return null;case 22:case 23:return t.lanes=0,Ah(e,t,n)}return Tt(e,t,n)}var Uh,Oa,zh,Mh;Uh=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Oa=function(){};zh=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,hn(mt.current);var i=null;switch(n){case"input":s=Xo(e,s),r=Xo(e,r),i=[];break;case"select":s=ee({},s,{value:void 0}),r=ee({},r,{value:void 0}),i=[];break;case"textarea":s=ta(e,s),r=ta(e,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=pi)}ra(n,r);var o;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var a=s[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Wr.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var l=r[u];if(a=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Wr.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&J("scroll",e),i||a===l||(i=[])):(i=i||[]).push(u,l))}n&&(i=i||[]).push("style",n);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};Mh=function(e,t,n,r){n!==r&&(t.flags|=4)};function Er(e,t){if(!Y)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function we(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function eg(e,t,n){var r=t.pendingProps;switch(yl(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return we(t),null;case 1:return Ne(t.type)&&mi(),we(t),null;case 3:return r=t.stateNode,ar(),Q(je),Q(Se),Cl(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Ps(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,ot!==null&&(Ua(ot),ot=null))),Oa(e,t),we(t),null;case 5:Tl(t);var s=hn(ts.current);if(n=t.type,e!==null&&t.stateNode!=null)zh(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(x(166));return we(t),null}if(e=hn(mt.current),Ps(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[ft]=t,r[Zr]=i,e=(t.mode&1)!==0,n){case"dialog":J("cancel",r),J("close",r);break;case"iframe":case"object":case"embed":J("load",r);break;case"video":case"audio":for(s=0;s<Or.length;s++)J(Or[s],r);break;case"source":J("error",r);break;case"img":case"image":case"link":J("error",r),J("load",r);break;case"details":J("toggle",r);break;case"input":hu(r,i),J("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},J("invalid",r);break;case"textarea":pu(r,i),J("invalid",r)}ra(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&Rs(r.textContent,a,e),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&Rs(r.textContent,a,e),s=["children",""+a]):Wr.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&J("scroll",r)}switch(n){case"input":xs(r),fu(r,i,!0);break;case"textarea":xs(r),mu(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=pi)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=pd(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[ft]=t,e[Zr]=r,Uh(e,t,!1,!1),t.stateNode=e;e:{switch(o=sa(n,r),n){case"dialog":J("cancel",e),J("close",e),s=r;break;case"iframe":case"object":case"embed":J("load",e),s=r;break;case"video":case"audio":for(s=0;s<Or.length;s++)J(Or[s],e);s=r;break;case"source":J("error",e),s=r;break;case"img":case"image":case"link":J("error",e),J("load",e),s=r;break;case"details":J("toggle",e),s=r;break;case"input":hu(e,r),s=Xo(e,r),J("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=ee({},r,{value:void 0}),J("invalid",e);break;case"textarea":pu(e,r),s=ta(e,r),J("invalid",e);break;default:s=r}ra(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?vd(e,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&md(e,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Vr(e,l):typeof l=="number"&&Vr(e,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Wr.hasOwnProperty(i)?l!=null&&i==="onScroll"&&J("scroll",e):l!=null&&rl(e,i,l,o))}switch(n){case"input":xs(e),fu(e,r,!1);break;case"textarea":xs(e),mu(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Jt(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?Qn(e,!!r.multiple,i,!1):r.defaultValue!=null&&Qn(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=pi)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return we(t),null;case 6:if(e&&t.stateNode!=null)Mh(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(x(166));if(n=hn(ts.current),hn(mt.current),Ps(t)){if(r=t.stateNode,n=t.memoizedProps,r[ft]=t,(i=r.nodeValue!==n)&&(e=De,e!==null))switch(e.tag){case 3:Rs(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Rs(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[ft]=t,t.stateNode=r}return we(t),null;case 13:if(Q(X),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Y&&Le!==null&&t.mode&1&&!(t.flags&128))sh(),ir(),t.flags|=98560,i=!1;else if(i=Ps(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(x(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(x(317));i[ft]=t}else ir(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;we(t),i=!1}else ot!==null&&(Ua(ot),ot=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||X.current&1?ce===0&&(ce=3):zl())),t.updateQueue!==null&&(t.flags|=4),we(t),null);case 4:return ar(),Oa(e,t),e===null&&Yr(t.stateNode.containerInfo),we(t),null;case 10:return kl(t.type._context),we(t),null;case 17:return Ne(t.type)&&mi(),we(t),null;case 19:if(Q(X),i=t.memoizedState,i===null)return we(t),null;if(r=(t.flags&128)!==0,o=i.rendering,o===null)if(r)Er(i,!1);else{if(ce!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=ki(e),o!==null){for(t.flags|=128,Er(i,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return G(X,X.current&1|2),t.child}e=e.sibling}i.tail!==null&&ie()>ur&&(t.flags|=128,r=!0,Er(i,!1),t.lanes=4194304)}else{if(!r)if(e=ki(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Er(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Y)return we(t),null}else 2*ie()-i.renderingStartTime>ur&&n!==1073741824&&(t.flags|=128,r=!0,Er(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(n=i.last,n!==null?n.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=ie(),t.sibling=null,n=X.current,G(X,r?n&1|2:n&1),t):(we(t),null);case 22:case 23:return Ul(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Ie&1073741824&&(we(t),t.subtreeFlags&6&&(t.flags|=8192)):we(t),null;case 24:return null;case 25:return null}throw Error(x(156,t.tag))}function tg(e,t){switch(yl(t),t.tag){case 1:return Ne(t.type)&&mi(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ar(),Q(je),Q(Se),Cl(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Tl(t),null;case 13:if(Q(X),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(x(340));ir()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Q(X),null;case 4:return ar(),null;case 10:return kl(t.type._context),null;case 22:case 23:return Ul(),null;case 24:return null;default:return null}}var $s=!1,_e=!1,ng=typeof WeakSet=="function"?WeakSet:Set,R=null;function qn(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){se(e,t,r)}else n.current=null}function Ra(e,t,n){try{n()}catch(r){se(e,t,r)}}var sc=!1;function rg(e,t){if(pa=di,e=Hd(),gl(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,c=0,g=e,f=null;t:for(;;){for(var v;g!==n||s!==0&&g.nodeType!==3||(a=o+s),g!==i||r!==0&&g.nodeType!==3||(l=o+r),g.nodeType===3&&(o+=g.nodeValue.length),(v=g.firstChild)!==null;)f=g,g=v;for(;;){if(g===e)break t;if(f===n&&++u===s&&(a=o),f===i&&++c===r&&(l=o),(v=g.nextSibling)!==null)break;g=f,f=g.parentNode}g=v}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(ma={focusedElem:e,selectionRange:n},di=!1,R=t;R!==null;)if(t=R,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,R=e;else for(;R!==null;){t=R;try{var w=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var _=w.memoizedProps,k=w.memoizedState,p=t.stateNode,d=p.getSnapshotBeforeUpdate(t.elementType===t.type?_:nt(t.type,_),k);p.__reactInternalSnapshotBeforeUpdate=d}break;case 3:var m=t.stateNode.containerInfo;m.nodeType===1?m.textContent="":m.nodeType===9&&m.documentElement&&m.removeChild(m.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(x(163))}}catch(S){se(t,t.return,S)}if(e=t.sibling,e!==null){e.return=t.return,R=e;break}R=t.return}return w=sc,sc=!1,w}function Ur(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&Ra(t,n,i)}s=s.next}while(s!==r)}}function Wi(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Pa(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Fh(e){var t=e.alternate;t!==null&&(e.alternate=null,Fh(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[ft],delete t[Zr],delete t[ya],delete t[zm],delete t[Mm])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Bh(e){return e.tag===5||e.tag===3||e.tag===4}function ic(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Bh(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Aa(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=pi));else if(r!==4&&(e=e.child,e!==null))for(Aa(e,t,n),e=e.sibling;e!==null;)Aa(e,t,n),e=e.sibling}function Ia(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Ia(e,t,n),e=e.sibling;e!==null;)Ia(e,t,n),e=e.sibling}var me=null,st=!1;function Pt(e,t,n){for(n=n.child;n!==null;)Wh(e,t,n),n=n.sibling}function Wh(e,t,n){if(pt&&typeof pt.onCommitFiberUnmount=="function")try{pt.onCommitFiberUnmount($i,n)}catch{}switch(n.tag){case 5:_e||qn(n,t);case 6:var r=me,s=st;me=null,Pt(e,t,n),me=r,st=s,me!==null&&(st?(e=me,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):me.removeChild(n.stateNode));break;case 18:me!==null&&(st?(e=me,n=n.stateNode,e.nodeType===8?To(e.parentNode,n):e.nodeType===1&&To(e,n),Gr(e)):To(me,n.stateNode));break;case 4:r=me,s=st,me=n.stateNode.containerInfo,st=!0,Pt(e,t,n),me=r,st=s;break;case 0:case 11:case 14:case 15:if(!_e&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Ra(n,t,o),s=s.next}while(s!==r)}Pt(e,t,n);break;case 1:if(!_e&&(qn(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){se(n,t,a)}Pt(e,t,n);break;case 21:Pt(e,t,n);break;case 22:n.mode&1?(_e=(r=_e)||n.memoizedState!==null,Pt(e,t,n),_e=r):Pt(e,t,n);break;default:Pt(e,t,n)}}function oc(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new ng),t.forEach(function(r){var s=hg.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function et(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=e,o=t,a=o;e:for(;a!==null;){switch(a.tag){case 5:me=a.stateNode,st=!1;break e;case 3:me=a.stateNode.containerInfo,st=!0;break e;case 4:me=a.stateNode.containerInfo,st=!0;break e}a=a.return}if(me===null)throw Error(x(160));Wh(i,o,s),me=null,st=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(u){se(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Vh(t,e),t=t.sibling}function Vh(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(et(t,e),dt(e),r&4){try{Ur(3,e,e.return),Wi(3,e)}catch(_){se(e,e.return,_)}try{Ur(5,e,e.return)}catch(_){se(e,e.return,_)}}break;case 1:et(t,e),dt(e),r&512&&n!==null&&qn(n,n.return);break;case 5:if(et(t,e),dt(e),r&512&&n!==null&&qn(n,n.return),e.flags&32){var s=e.stateNode;try{Vr(s,"")}catch(_){se(e,e.return,_)}}if(r&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=n!==null?n.memoizedProps:i,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&hd(s,i),sa(a,o);var u=sa(a,i);for(o=0;o<l.length;o+=2){var c=l[o],g=l[o+1];c==="style"?vd(s,g):c==="dangerouslySetInnerHTML"?md(s,g):c==="children"?Vr(s,g):rl(s,c,g,u)}switch(a){case"input":Zo(s,i);break;case"textarea":fd(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var v=i.value;v!=null?Qn(s,!!i.multiple,v,!1):f!==!!i.multiple&&(i.defaultValue!=null?Qn(s,!!i.multiple,i.defaultValue,!0):Qn(s,!!i.multiple,i.multiple?[]:"",!1))}s[Zr]=i}catch(_){se(e,e.return,_)}}break;case 6:if(et(t,e),dt(e),r&4){if(e.stateNode===null)throw Error(x(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(_){se(e,e.return,_)}}break;case 3:if(et(t,e),dt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Gr(t.containerInfo)}catch(_){se(e,e.return,_)}break;case 4:et(t,e),dt(e);break;case 13:et(t,e),dt(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Ll=ie())),r&4&&oc(e);break;case 22:if(c=n!==null&&n.memoizedState!==null,e.mode&1?(_e=(u=_e)||c,et(t,e),_e=u):et(t,e),dt(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!c&&e.mode&1)for(R=e,c=e.child;c!==null;){for(g=R=c;R!==null;){switch(f=R,v=f.child,f.tag){case 0:case 11:case 14:case 15:Ur(4,f,f.return);break;case 1:qn(f,f.return);var w=f.stateNode;if(typeof w.componentWillUnmount=="function"){r=f,n=f.return;try{t=r,w.props=t.memoizedProps,w.state=t.memoizedState,w.componentWillUnmount()}catch(_){se(r,n,_)}}break;case 5:qn(f,f.return);break;case 22:if(f.memoizedState!==null){lc(g);continue}}v!==null?(v.return=f,R=v):lc(g)}c=c.sibling}e:for(c=null,g=e;;){if(g.tag===5){if(c===null){c=g;try{s=g.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=g.stateNode,l=g.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=gd("display",o))}catch(_){se(e,e.return,_)}}}else if(g.tag===6){if(c===null)try{g.stateNode.nodeValue=u?"":g.memoizedProps}catch(_){se(e,e.return,_)}}else if((g.tag!==22&&g.tag!==23||g.memoizedState===null||g===e)&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===e)break e;for(;g.sibling===null;){if(g.return===null||g.return===e)break e;c===g&&(c=null),g=g.return}c===g&&(c=null),g.sibling.return=g.return,g=g.sibling}}break;case 19:et(t,e),dt(e),r&4&&oc(e);break;case 21:break;default:et(t,e),dt(e)}}function dt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Bh(n)){var r=n;break e}n=n.return}throw Error(x(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Vr(s,""),r.flags&=-33);var i=ic(e);Ia(e,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=ic(e);Aa(e,a,o);break;default:throw Error(x(161))}}catch(l){se(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function sg(e,t,n){R=e,Hh(e)}function Hh(e,t,n){for(var r=(e.mode&1)!==0;R!==null;){var s=R,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||$s;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||_e;a=$s;var u=_e;if($s=o,(_e=l)&&!u)for(R=s;R!==null;)o=R,l=o.child,o.tag===22&&o.memoizedState!==null?uc(s):l!==null?(l.return=o,R=l):uc(s);for(;i!==null;)R=i,Hh(i),i=i.sibling;R=s,$s=a,_e=u}ac(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,R=i):ac(e)}}function ac(e){for(;R!==null;){var t=R;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:_e||Wi(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!_e)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:nt(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Hu(t,i,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Hu(t,o,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var g=c.dehydrated;g!==null&&Gr(g)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(x(163))}_e||t.flags&512&&Pa(t)}catch(f){se(t,t.return,f)}}if(t===e){R=null;break}if(n=t.sibling,n!==null){n.return=t.return,R=n;break}R=t.return}}function lc(e){for(;R!==null;){var t=R;if(t===e){R=null;break}var n=t.sibling;if(n!==null){n.return=t.return,R=n;break}R=t.return}}function uc(e){for(;R!==null;){var t=R;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Wi(4,t)}catch(l){se(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(l){se(t,s,l)}}var i=t.return;try{Pa(t)}catch(l){se(t,i,l)}break;case 5:var o=t.return;try{Pa(t)}catch(l){se(t,o,l)}}}catch(l){se(t,t.return,l)}if(t===e){R=null;break}var a=t.sibling;if(a!==null){a.return=t.return,R=a;break}R=t.return}}var ig=Math.ceil,bi=Ct.ReactCurrentDispatcher,Il=Ct.ReactCurrentOwner,Ge=Ct.ReactCurrentBatchConfig,V=0,he=null,ae=null,ge=0,Ie=0,Kn=Xt(0),ce=0,is=null,wn=0,Vi=0,$l=0,zr=null,Te=null,Ll=0,ur=1/0,vt=null,Ti=!1,$a=null,qt=null,Ls=!1,Mt=null,Ci=0,Mr=0,La=null,ri=-1,si=0;function xe(){return V&6?ie():ri!==-1?ri:ri=ie()}function Kt(e){return e.mode&1?V&2&&ge!==0?ge&-ge:Bm.transition!==null?(si===0&&(si=Nd()),si):(e=H,e!==0||(e=window.event,e=e===void 0?16:Ld(e.type)),e):1}function lt(e,t,n,r){if(50<Mr)throw Mr=0,La=null,Error(x(185));ps(e,n,r),(!(V&2)||e!==he)&&(e===he&&(!(V&2)&&(Vi|=n),ce===4&&Dt(e,ge)),Oe(e,r),n===1&&V===0&&!(t.mode&1)&&(ur=ie()+500,Mi&&Zt()))}function Oe(e,t){var n=e.callbackNode;Bp(e,t);var r=ci(e,e===he?ge:0);if(r===0)n!==null&&yu(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&yu(n),t===1)e.tag===0?Fm(cc.bind(null,e)):th(cc.bind(null,e)),Dm(function(){!(V&6)&&Zt()}),n=null;else{switch(Od(r)){case 1:n=ll;break;case 4:n=Cd;break;case 16:n=ui;break;case 536870912:n=jd;break;default:n=ui}n=Zh(n,qh.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function qh(e,t){if(ri=-1,si=0,V&6)throw Error(x(327));var n=e.callbackNode;if(tr()&&e.callbackNode!==n)return null;var r=ci(e,e===he?ge:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=ji(e,r);else{t=r;var s=V;V|=2;var i=Gh();(he!==e||ge!==t)&&(vt=null,ur=ie()+500,pn(e,t));do try{lg();break}catch(a){Kh(e,a)}while(!0);Sl(),bi.current=i,V=s,ae!==null?t=0:(he=null,ge=0,t=ce)}if(t!==0){if(t===2&&(s=ua(e),s!==0&&(r=s,t=Da(e,s))),t===1)throw n=is,pn(e,0),Dt(e,r),Oe(e,ie()),n;if(t===6)Dt(e,r);else{if(s=e.current.alternate,!(r&30)&&!og(s)&&(t=ji(e,r),t===2&&(i=ua(e),i!==0&&(r=i,t=Da(e,i))),t===1))throw n=is,pn(e,0),Dt(e,r),Oe(e,ie()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(x(345));case 2:on(e,Te,vt);break;case 3:if(Dt(e,r),(r&130023424)===r&&(t=Ll+500-ie(),10<t)){if(ci(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){xe(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=va(on.bind(null,e,Te,vt),t);break}on(e,Te,vt);break;case 4:if(Dt(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var o=31-at(r);i=1<<o,o=t[o],o>s&&(s=o),r&=~i}if(r=s,r=ie()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*ig(r/1960))-r,10<r){e.timeoutHandle=va(on.bind(null,e,Te,vt),r);break}on(e,Te,vt);break;case 5:on(e,Te,vt);break;default:throw Error(x(329))}}}return Oe(e,ie()),e.callbackNode===n?qh.bind(null,e):null}function Da(e,t){var n=zr;return e.current.memoizedState.isDehydrated&&(pn(e,t).flags|=256),e=ji(e,t),e!==2&&(t=Te,Te=n,t!==null&&Ua(t)),e}function Ua(e){Te===null?Te=e:Te.push.apply(Te,e)}function og(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!ut(i(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Dt(e,t){for(t&=~$l,t&=~Vi,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-at(t),r=1<<n;e[n]=-1,t&=~r}}function cc(e){if(V&6)throw Error(x(327));tr();var t=ci(e,0);if(!(t&1))return Oe(e,ie()),null;var n=ji(e,t);if(e.tag!==0&&n===2){var r=ua(e);r!==0&&(t=r,n=Da(e,r))}if(n===1)throw n=is,pn(e,0),Dt(e,t),Oe(e,ie()),n;if(n===6)throw Error(x(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,on(e,Te,vt),Oe(e,ie()),null}function Dl(e,t){var n=V;V|=1;try{return e(t)}finally{V=n,V===0&&(ur=ie()+500,Mi&&Zt())}}function _n(e){Mt!==null&&Mt.tag===0&&!(V&6)&&tr();var t=V;V|=1;var n=Ge.transition,r=H;try{if(Ge.transition=null,H=1,e)return e()}finally{H=r,Ge.transition=n,V=t,!(V&6)&&Zt()}}function Ul(){Ie=Kn.current,Q(Kn)}function pn(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Lm(n)),ae!==null)for(n=ae.return;n!==null;){var r=n;switch(yl(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&mi();break;case 3:ar(),Q(je),Q(Se),Cl();break;case 5:Tl(r);break;case 4:ar();break;case 13:Q(X);break;case 19:Q(X);break;case 10:kl(r.type._context);break;case 22:case 23:Ul()}n=n.return}if(he=e,ae=e=Gt(e.current,null),ge=Ie=t,ce=0,is=null,$l=Vi=wn=0,Te=zr=null,dn!==null){for(t=0;t<dn.length;t++)if(n=dn[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}dn=null}return e}function Kh(e,t){do{var n=ae;try{if(Sl(),ei.current=Ei,xi){for(var r=Z.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}xi=!1}if(yn=0,de=ue=Z=null,Dr=!1,ns=0,Il.current=null,n===null||n.return===null){ce=1,is=t,ae=null;break}e:{var i=e,o=n.return,a=n,l=t;if(t=ge,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,g=c.tag;if(!(c.mode&1)&&(g===0||g===11||g===15)){var f=c.alternate;f?(c.updateQueue=f.updateQueue,c.memoizedState=f.memoizedState,c.lanes=f.lanes):(c.updateQueue=null,c.memoizedState=null)}var v=Yu(o);if(v!==null){v.flags&=-257,Xu(v,o,a,i,t),v.mode&1&&Qu(i,u,t),t=v,l=u;var w=t.updateQueue;if(w===null){var _=new Set;_.add(l),t.updateQueue=_}else w.add(l);break e}else{if(!(t&1)){Qu(i,u,t),zl();break e}l=Error(x(426))}}else if(Y&&a.mode&1){var k=Yu(o);if(k!==null){!(k.flags&65536)&&(k.flags|=256),Xu(k,o,a,i,t),wl(lr(l,a));break e}}i=l=lr(l,a),ce!==4&&(ce=2),zr===null?zr=[i]:zr.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var p=Oh(i,l,t);Vu(i,p);break e;case 1:a=l;var d=i.type,m=i.stateNode;if(!(i.flags&128)&&(typeof d.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(qt===null||!qt.has(m)))){i.flags|=65536,t&=-t,i.lanes|=t;var S=Rh(i,a,t);Vu(i,S);break e}}i=i.return}while(i!==null)}Qh(n)}catch(E){t=E,ae===n&&n!==null&&(ae=n=n.return);continue}break}while(!0)}function Gh(){var e=bi.current;return bi.current=Ei,e===null?Ei:e}function zl(){(ce===0||ce===3||ce===2)&&(ce=4),he===null||!(wn&268435455)&&!(Vi&268435455)||Dt(he,ge)}function ji(e,t){var n=V;V|=2;var r=Gh();(he!==e||ge!==t)&&(vt=null,pn(e,t));do try{ag();break}catch(s){Kh(e,s)}while(!0);if(Sl(),V=n,bi.current=r,ae!==null)throw Error(x(261));return he=null,ge=0,ce}function ag(){for(;ae!==null;)Jh(ae)}function lg(){for(;ae!==null&&!Ap();)Jh(ae)}function Jh(e){var t=Xh(e.alternate,e,Ie);e.memoizedProps=e.pendingProps,t===null?Qh(e):ae=t,Il.current=null}function Qh(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=tg(n,t),n!==null){n.flags&=32767,ae=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ce=6,ae=null;return}}else if(n=eg(n,t,Ie),n!==null){ae=n;return}if(t=t.sibling,t!==null){ae=t;return}ae=t=e}while(t!==null);ce===0&&(ce=5)}function on(e,t,n){var r=H,s=Ge.transition;try{Ge.transition=null,H=1,ug(e,t,n,r)}finally{Ge.transition=s,H=r}return null}function ug(e,t,n,r){do tr();while(Mt!==null);if(V&6)throw Error(x(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(x(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(Wp(e,i),e===he&&(ae=he=null,ge=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ls||(Ls=!0,Zh(ui,function(){return tr(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Ge.transition,Ge.transition=null;var o=H;H=1;var a=V;V|=4,Il.current=null,rg(e,n),Vh(n,e),Nm(ma),di=!!pa,ma=pa=null,e.current=n,sg(n),Ip(),V=a,H=o,Ge.transition=i}else e.current=n;if(Ls&&(Ls=!1,Mt=e,Ci=s),i=e.pendingLanes,i===0&&(qt=null),Dp(n.stateNode),Oe(e,ie()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Ti)throw Ti=!1,e=$a,$a=null,e;return Ci&1&&e.tag!==0&&tr(),i=e.pendingLanes,i&1?e===La?Mr++:(Mr=0,La=e):Mr=0,Zt(),null}function tr(){if(Mt!==null){var e=Od(Ci),t=Ge.transition,n=H;try{if(Ge.transition=null,H=16>e?16:e,Mt===null)var r=!1;else{if(e=Mt,Mt=null,Ci=0,V&6)throw Error(x(331));var s=V;for(V|=4,R=e.current;R!==null;){var i=R,o=i.child;if(R.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(R=u;R!==null;){var c=R;switch(c.tag){case 0:case 11:case 15:Ur(8,c,i)}var g=c.child;if(g!==null)g.return=c,R=g;else for(;R!==null;){c=R;var f=c.sibling,v=c.return;if(Fh(c),c===u){R=null;break}if(f!==null){f.return=v,R=f;break}R=v}}}var w=i.alternate;if(w!==null){var _=w.child;if(_!==null){w.child=null;do{var k=_.sibling;_.sibling=null,_=k}while(_!==null)}}R=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,R=o;else e:for(;R!==null;){if(i=R,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Ur(9,i,i.return)}var p=i.sibling;if(p!==null){p.return=i.return,R=p;break e}R=i.return}}var d=e.current;for(R=d;R!==null;){o=R;var m=o.child;if(o.subtreeFlags&2064&&m!==null)m.return=o,R=m;else e:for(o=d;R!==null;){if(a=R,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Wi(9,a)}}catch(E){se(a,a.return,E)}if(a===o){R=null;break e}var S=a.sibling;if(S!==null){S.return=a.return,R=S;break e}R=a.return}}if(V=s,Zt(),pt&&typeof pt.onPostCommitFiberRoot=="function")try{pt.onPostCommitFiberRoot($i,e)}catch{}r=!0}return r}finally{H=n,Ge.transition=t}}return!1}function dc(e,t,n){t=lr(n,t),t=Oh(e,t,1),e=Ht(e,t,1),t=xe(),e!==null&&(ps(e,1,t),Oe(e,t))}function se(e,t,n){if(e.tag===3)dc(e,e,n);else for(;t!==null;){if(t.tag===3){dc(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(qt===null||!qt.has(r))){e=lr(n,e),e=Rh(t,e,1),t=Ht(t,e,1),e=xe(),t!==null&&(ps(t,1,e),Oe(t,e));break}}t=t.return}}function cg(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=xe(),e.pingedLanes|=e.suspendedLanes&n,he===e&&(ge&n)===n&&(ce===4||ce===3&&(ge&130023424)===ge&&500>ie()-Ll?pn(e,0):$l|=n),Oe(e,t)}function Yh(e,t){t===0&&(e.mode&1?(t=Ts,Ts<<=1,!(Ts&130023424)&&(Ts=4194304)):t=1);var n=xe();e=bt(e,t),e!==null&&(ps(e,t,n),Oe(e,n))}function dg(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Yh(e,n)}function hg(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(x(314))}r!==null&&r.delete(t),Yh(e,n)}var Xh;Xh=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||je.current)Ce=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Ce=!1,Zm(e,t,n);Ce=!!(e.flags&131072)}else Ce=!1,Y&&t.flags&1048576&&nh(t,yi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;ni(e,t),e=t.pendingProps;var s=sr(t,Se.current);er(t,n),s=Nl(null,t,r,e,s,n);var i=Ol();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ne(r)?(i=!0,gi(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,El(t),s.updater=Bi,t.stateNode=s,s._reactInternals=t,Ea(t,r,e,n),t=Ca(null,t,r,!0,i,n)):(t.tag=0,Y&&i&&vl(t),ke(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(ni(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=pg(r),e=nt(r,e),s){case 0:t=Ta(null,t,r,e,n);break e;case 1:t=tc(null,t,r,e,n);break e;case 11:t=Zu(null,t,r,e,n);break e;case 14:t=ec(null,t,r,nt(r.type,e),n);break e}throw Error(x(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:nt(r,s),Ta(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:nt(r,s),tc(e,t,r,s,n);case 3:e:{if($h(t),e===null)throw Error(x(387));r=t.pendingProps,i=t.memoizedState,s=i.element,lh(e,t),Si(t,r,null,n);var o=t.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=lr(Error(x(423)),t),t=nc(e,t,r,n,s);break e}else if(r!==s){s=lr(Error(x(424)),t),t=nc(e,t,r,n,s);break e}else for(Le=Vt(t.stateNode.containerInfo.firstChild),De=t,Y=!0,ot=null,n=oh(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ir(),r===s){t=Tt(e,t,n);break e}ke(e,t,r,n)}t=t.child}return t;case 5:return uh(t),e===null&&Sa(t),r=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,ga(r,s)?o=null:i!==null&&ga(r,i)&&(t.flags|=32),Ih(e,t),ke(e,t,o,n),t.child;case 6:return e===null&&Sa(t),null;case 13:return Lh(e,t,n);case 4:return bl(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=or(t,null,r,n):ke(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:nt(r,s),Zu(e,t,r,s,n);case 7:return ke(e,t,t.pendingProps,n),t.child;case 8:return ke(e,t,t.pendingProps.children,n),t.child;case 12:return ke(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,G(wi,r._currentValue),r._currentValue=o,i!==null)if(ut(i.value,o)){if(i.children===s.children&&!je.current){t=Tt(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=kt(-1,n&-n),l.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),ka(i.return,n,t),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(x(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),ka(o,n,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}ke(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,er(t,n),s=Je(s),r=r(s),t.flags|=1,ke(e,t,r,n),t.child;case 14:return r=t.type,s=nt(r,t.pendingProps),s=nt(r.type,s),ec(e,t,r,s,n);case 15:return Ph(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:nt(r,s),ni(e,t),t.tag=1,Ne(r)?(e=!0,gi(t)):e=!1,er(t,n),Nh(t,r,s),Ea(t,r,s,n),Ca(null,t,r,!0,e,n);case 19:return Dh(e,t,n);case 22:return Ah(e,t,n)}throw Error(x(156,t.tag))};function Zh(e,t){return Td(e,t)}function fg(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ke(e,t,n,r){return new fg(e,t,n,r)}function Ml(e){return e=e.prototype,!(!e||!e.isReactComponent)}function pg(e){if(typeof e=="function")return Ml(e)?1:0;if(e!=null){if(e=e.$$typeof,e===il)return 11;if(e===ol)return 14}return 2}function Gt(e,t){var n=e.alternate;return n===null?(n=Ke(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function ii(e,t,n,r,s,i){var o=2;if(r=e,typeof e=="function")Ml(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Dn:return mn(n.children,s,i,t);case sl:o=8,s|=8;break;case Go:return e=Ke(12,n,t,s|2),e.elementType=Go,e.lanes=i,e;case Jo:return e=Ke(13,n,t,s),e.elementType=Jo,e.lanes=i,e;case Qo:return e=Ke(19,n,t,s),e.elementType=Qo,e.lanes=i,e;case ud:return Hi(n,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ad:o=10;break e;case ld:o=9;break e;case il:o=11;break e;case ol:o=14;break e;case At:o=16,r=null;break e}throw Error(x(130,e==null?e:typeof e,""))}return t=Ke(o,n,t,s),t.elementType=e,t.type=r,t.lanes=i,t}function mn(e,t,n,r){return e=Ke(7,e,r,t),e.lanes=n,e}function Hi(e,t,n,r){return e=Ke(22,e,r,t),e.elementType=ud,e.lanes=n,e.stateNode={isHidden:!1},e}function Io(e,t,n){return e=Ke(6,e,null,t),e.lanes=n,e}function $o(e,t,n){return t=Ke(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function mg(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mo(0),this.expirationTimes=mo(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mo(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Fl(e,t,n,r,s,i,o,a,l){return e=new mg(e,t,n,a,l),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Ke(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},El(i),e}function gg(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ln,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function ef(e){if(!e)return Qt;e=e._reactInternals;e:{if(kn(e)!==e||e.tag!==1)throw Error(x(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ne(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(x(171))}if(e.tag===1){var n=e.type;if(Ne(n))return eh(e,n,t)}return t}function tf(e,t,n,r,s,i,o,a,l){return e=Fl(n,r,!0,e,s,i,o,a,l),e.context=ef(null),n=e.current,r=xe(),s=Kt(n),i=kt(r,s),i.callback=t??null,Ht(n,i,s),e.current.lanes=s,ps(e,s,r),Oe(e,r),e}function qi(e,t,n,r){var s=t.current,i=xe(),o=Kt(s);return n=ef(n),t.context===null?t.context=n:t.pendingContext=n,t=kt(i,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Ht(s,t,o),e!==null&&(lt(e,s,o,i),Zs(e,s,o)),o}function Ni(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function hc(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Bl(e,t){hc(e,t),(e=e.alternate)&&hc(e,t)}function vg(){return null}var nf=typeof reportError=="function"?reportError:function(e){console.error(e)};function Wl(e){this._internalRoot=e}Ki.prototype.render=Wl.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(x(409));qi(e,t,null,null)};Ki.prototype.unmount=Wl.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;_n(function(){qi(null,e,null,null)}),t[Et]=null}};function Ki(e){this._internalRoot=e}Ki.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ad();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Lt.length&&t!==0&&t<Lt[n].priority;n++);Lt.splice(n,0,e),n===0&&$d(e)}};function Vl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Gi(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function fc(){}function yg(e,t,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=Ni(o);i.call(u)}}var o=tf(t,r,e,0,null,!1,!1,"",fc);return e._reactRootContainer=o,e[Et]=o.current,Yr(e.nodeType===8?e.parentNode:e),_n(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var u=Ni(l);a.call(u)}}var l=Fl(e,0,!1,null,null,!1,!1,"",fc);return e._reactRootContainer=l,e[Et]=l.current,Yr(e.nodeType===8?e.parentNode:e),_n(function(){qi(t,l,n,r)}),l}function Ji(e,t,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=Ni(o);a.call(l)}}qi(t,o,e,s)}else o=yg(n,t,e,s,r);return Ni(o)}Rd=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Nr(t.pendingLanes);n!==0&&(ul(t,n|1),Oe(t,ie()),!(V&6)&&(ur=ie()+500,Zt()))}break;case 13:_n(function(){var r=bt(e,1);if(r!==null){var s=xe();lt(r,e,1,s)}}),Bl(e,1)}};cl=function(e){if(e.tag===13){var t=bt(e,134217728);if(t!==null){var n=xe();lt(t,e,134217728,n)}Bl(e,134217728)}};Pd=function(e){if(e.tag===13){var t=Kt(e),n=bt(e,t);if(n!==null){var r=xe();lt(n,e,t,r)}Bl(e,t)}};Ad=function(){return H};Id=function(e,t){var n=H;try{return H=e,t()}finally{H=n}};oa=function(e,t,n){switch(t){case"input":if(Zo(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=zi(r);if(!s)throw Error(x(90));dd(r),Zo(r,s)}}}break;case"textarea":fd(e,n);break;case"select":t=n.value,t!=null&&Qn(e,!!n.multiple,t,!1)}};_d=Dl;Sd=_n;var wg={usingClientEntryPoint:!1,Events:[gs,Fn,zi,yd,wd,Dl]},br={findFiberByHostInstance:cn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},_g={bundleType:br.bundleType,version:br.version,rendererPackageName:br.rendererPackageName,rendererConfig:br.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ct.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Ed(e),e===null?null:e.stateNode},findFiberByHostInstance:br.findFiberByHostInstance||vg,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ds=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ds.isDisabled&&Ds.supportsFiber)try{$i=Ds.inject(_g),pt=Ds}catch{}}ze.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=wg;ze.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Vl(t))throw Error(x(200));return gg(e,t,null,n)};ze.createRoot=function(e,t){if(!Vl(e))throw Error(x(299));var n=!1,r="",s=nf;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Fl(e,1,!1,null,null,n,!1,r,s),e[Et]=t.current,Yr(e.nodeType===8?e.parentNode:e),new Wl(t)};ze.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(x(188)):(e=Object.keys(e).join(","),Error(x(268,e)));return e=Ed(t),e=e===null?null:e.stateNode,e};ze.flushSync=function(e){return _n(e)};ze.hydrate=function(e,t,n){if(!Gi(t))throw Error(x(200));return Ji(null,e,t,!0,n)};ze.hydrateRoot=function(e,t,n){if(!Vl(e))throw Error(x(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=nf;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=tf(t,null,e,1,n??null,s,!1,i,o),e[Et]=t.current,Yr(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new Ki(t)};ze.render=function(e,t,n){if(!Gi(t))throw Error(x(200));return Ji(null,e,t,!1,n)};ze.unmountComponentAtNode=function(e){if(!Gi(e))throw Error(x(40));return e._reactRootContainer?(_n(function(){Ji(null,null,e,!1,function(){e._reactRootContainer=null,e[Et]=null})}),!0):!1};ze.unstable_batchedUpdates=Dl;ze.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Gi(n))throw Error(x(200));if(e==null||e._reactInternals===void 0)throw Error(x(38));return Ji(e,t,n,!1,r)};ze.version="18.3.1-next-f1338f8080-20240426";function rf(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(rf)}catch(e){console.error(e)}}rf(),rd.exports=ze;var Sg=rd.exports,pc=Sg;qo.createRoot=pc.createRoot,qo.hydrateRoot=pc.hydrateRoot;function Lo({open:e,title:t,onClose:n,children:r,footer:s}){return e?h.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center px-4 py-8",children:[h.jsx("div",{className:"absolute inset-0 bg-slate-950/70 backdrop-blur-sm",onClick:n,role:"button",tabIndex:0}),h.jsxs("div",{className:"relative z-10 flex w-full max-w-xl flex-col rounded-3xl border border-white/15 bg-slate-900/70 p-6 shadow-2xl backdrop-blur-2xl max-h-[85vh]",children:[h.jsxs("div",{className:"flex items-start justify-between gap-4",children:[h.jsxs("div",{children:[h.jsx("p",{className:"label",children:"Detalhes"}),h.jsx("h2",{className:"text-xl font-semibold",children:t})]}),h.jsx("button",{className:"btn-ghost h-10 w-10 rounded-full text-xl leading-none",onClick:n,type:"button","aria-label":"Fechar",title:"Fechar",children:""})]}),h.jsx("div",{className:"mt-6 flex-1 space-y-4 overflow-y-auto pr-1",children:r}),s?h.jsx("div",{className:"mt-6 flex justify-end gap-3 border-t border-white/10 pt-4",children:s}):null]})]}):null}function Qi(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n}function kg(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(g){o(g)}}function l(c){try{u(r.throw(c))}catch(g){o(g)}}function u(c){c.done?i(c.value):s(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})}const xg=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class Hl extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class Eg extends Hl{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class mc extends Hl{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class gc extends Hl{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var za;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(za||(za={}));class bg{constructor(t,{headers:n={},customFetch:r,region:s=za.Any}={}){this.url=t,this.headers=n,this.region=s,this.fetch=xg(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return kg(this,arguments,void 0,function*(n,r={}){var s;let i,o;try{const{headers:a,method:l,body:u,signal:c,timeout:g}=r;let f={},{region:v}=r;v||(v=this.region);const w=new URL(`${this.url}/${n}`);v&&v!=="any"&&(f["x-region"]=v,w.searchParams.set("forceFunctionRegion",v));let _;u&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(f["Content-Type"]="application/octet-stream",_=u):typeof u=="string"?(f["Content-Type"]="text/plain",_=u):typeof FormData<"u"&&u instanceof FormData?_=u:(f["Content-Type"]="application/json",_=JSON.stringify(u)):u&&typeof u!="string"&&!(typeof Blob<"u"&&u instanceof Blob)&&!(u instanceof ArrayBuffer)&&!(typeof FormData<"u"&&u instanceof FormData)?_=JSON.stringify(u):_=u;let k=c;g&&(o=new AbortController,i=setTimeout(()=>o.abort(),g),c?(k=o.signal,c.addEventListener("abort",()=>o.abort())):k=o.signal);const p=yield this.fetch(w.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},f),this.headers),a),body:_,signal:k}).catch(E=>{throw new Eg(E)}),d=p.headers.get("x-relay-error");if(d&&d==="true")throw new mc(p);if(!p.ok)throw new gc(p);let m=((s=p.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),S;return m==="application/json"?S=yield p.json():m==="application/octet-stream"||m==="application/pdf"?S=yield p.blob():m==="text/event-stream"?S=p:m==="multipart/form-data"?S=yield p.formData():S=yield p.text(),{data:S,error:null,response:p}}catch(a){return{data:null,error:a,response:a instanceof gc||a instanceof mc?a.context:void 0}}finally{i&&clearTimeout(i)}})}}var Tg=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},Cg=class{constructor(e){var t,n,r;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(t=e.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=e.signal,this.isMaybeSingle=(n=e.isMaybeSingle)!==null&&n!==void 0?n:!1,this.urlLengthLimit=(r=e.urlLengthLimit)!==null&&r!==void 0?r:8e3,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var n=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let s=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{let o=null,a=null,l=null,u=i.status,c=i.statusText;if(i.ok){var g,f;if(n.method!=="HEAD"){var v;const p=await i.text();p===""||(n.headers.get("Accept")==="text/csv"||n.headers.get("Accept")&&(!((v=n.headers.get("Accept"))===null||v===void 0)&&v.includes("application/vnd.pgrst.plan+text"))?a=p:a=JSON.parse(p))}const _=(g=n.headers.get("Prefer"))===null||g===void 0?void 0:g.match(/count=(exact|planned|estimated)/),k=(f=i.headers.get("content-range"))===null||f===void 0?void 0:f.split("/");_&&k&&k.length>1&&(l=parseInt(k[1])),n.isMaybeSingle&&n.method==="GET"&&Array.isArray(a)&&(a.length>1?(o={code:"PGRST116",details:`Results contain ${a.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},a=null,l=null,u=406,c="Not Acceptable"):a.length===1?a=a[0]:a=null)}else{var w;const _=await i.text();try{o=JSON.parse(_),Array.isArray(o)&&i.status===404&&(a=[],o=null,u=200,c="OK")}catch{i.status===404&&_===""?(u=204,c="No Content"):o={message:_}}if(o&&n.isMaybeSingle&&(!(o==null||(w=o.details)===null||w===void 0)&&w.includes("0 rows"))&&(o=null,u=200,c="OK"),o&&n.shouldThrowOnError)throw new Tg(o)}return{error:o,data:a,count:l,status:u,statusText:c}});return this.shouldThrowOnError||(s=s.catch(i=>{var o;let a="",l="",u="";const c=i==null?void 0:i.cause;if(c){var g,f,v,w;const p=(g=c==null?void 0:c.message)!==null&&g!==void 0?g:"",d=(f=c==null?void 0:c.code)!==null&&f!==void 0?f:"";a=`${(v=i==null?void 0:i.name)!==null&&v!==void 0?v:"FetchError"}: ${i==null?void 0:i.message}`,a+=`

Caused by: ${(w=c==null?void 0:c.name)!==null&&w!==void 0?w:"Error"}: ${p}`,d&&(a+=` (${d})`),c!=null&&c.stack&&(a+=`
${c.stack}`)}else{var _;a=(_=i==null?void 0:i.stack)!==null&&_!==void 0?_:""}const k=this.url.toString().length;return(i==null?void 0:i.name)==="AbortError"||(i==null?void 0:i.code)==="ABORT_ERR"?(u="",l="Request was aborted (timeout or manual cancellation)",k>this.urlLengthLimit&&(l+=`. Note: Your request URL is ${k} characters, which may exceed server limits. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [many IDs])), consider using an RPC function to pass values server-side.`)):((c==null?void 0:c.name)==="HeadersOverflowError"||(c==null?void 0:c.code)==="UND_ERR_HEADERS_OVERFLOW")&&(u="",l="HTTP headers exceeded server limits (typically 16KB)",k>this.urlLengthLimit&&(l+=`. Your request URL is ${k} characters. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [200+ IDs])), consider using an RPC function instead.`)),{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:a,hint:l,code:u},data:null,count:null,status:0,statusText:""}})),s.then(e,t)}returns(){return this}overrideTypes(){return this}},jg=class extends Cg{select(e){let t=!1;const n=(e??"*").split("").map(r=>/\s/.test(r)&&!t?"":(r==='"'&&(t=!t),r)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:n,foreignTable:r,referencedTable:s=r}={}){const i=s?`${s}.order`:"order",o=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${o?`${o},`:""}${e}.${t?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:n=t}={}){const r=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(r,`${e}`),this}range(e,t,{foreignTable:n,referencedTable:r=n}={}){const s=typeof r>"u"?"offset":`${r}.offset`,i=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${e}`),this.url.searchParams.set(i,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:n=!1,buffers:r=!1,wal:s=!1,format:i="text"}={}){var o;const a=[e?"analyze":null,t?"verbose":null,n?"settings":null,r?"buffers":null,s?"wal":null].filter(Boolean).join("|"),l=(o=this.headers.get("Accept"))!==null&&o!==void 0?o:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${i}; for="${l}"; options=${a};`),i==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};const vc=new RegExp("[,()]");var An=class extends jg{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}regexMatch(e,t){return this.url.searchParams.append(e,`match.${t}`),this}regexIMatch(e,t){return this.url.searchParams.append(e,`imatch.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}isDistinct(e,t){return this.url.searchParams.append(e,`isdistinct.${t}`),this}in(e,t){const n=Array.from(new Set(t)).map(r=>typeof r=="string"&&vc.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}notIn(e,t){const n=Array.from(new Set(t)).map(r=>typeof r=="string"&&vc.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(e,`not.in.(${n})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:n,type:r}={}){let s="";r==="plain"?s="pl":r==="phrase"?s="ph":r==="websearch"&&(s="w");const i=n===void 0?"":`(${n})`;return this.url.searchParams.append(e,`${s}fts${i}.${t}`),this}match(e){return Object.entries(e).forEach(([t,n])=>{this.url.searchParams.append(t,`eq.${n}`)}),this}not(e,t,n){return this.url.searchParams.append(e,`not.${t}.${n}`),this}or(e,{foreignTable:t,referencedTable:n=t}={}){const r=n?`${n}.or`:"or";return this.url.searchParams.append(r,`(${e})`),this}filter(e,t,n){return this.url.searchParams.append(e,`${t}.${n}`),this}},Ng=class{constructor(e,{headers:t={},schema:n,fetch:r,urlLengthLimit:s=8e3}){this.url=e,this.headers=new Headers(t),this.schema=n,this.fetch=r,this.urlLengthLimit=s}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(e,t){const{head:n=!1,count:r}=t??{},s=n?"HEAD":"GET";let i=!1;const o=(e??"*").split("").map(u=>/\s/.test(u)&&!i?"":(u==='"'&&(i=!i),u)).join(""),{url:a,headers:l}=this.cloneRequestState();return a.searchParams.set("select",o),r&&l.append("Prefer",`count=${r}`),new An({method:s,url:a,headers:l,schema:this.schema,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}insert(e,{count:t,defaultToNull:n=!0}={}){var r;const s="POST",{url:i,headers:o}=this.cloneRequestState();if(t&&o.append("Prefer",`count=${t}`),n||o.append("Prefer","missing=default"),Array.isArray(e)){const a=e.reduce((l,u)=>l.concat(Object.keys(u)),[]);if(a.length>0){const l=[...new Set(a)].map(u=>`"${u}"`);i.searchParams.set("columns",l.join(","))}}return new An({method:s,url:i,headers:o,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch,urlLengthLimit:this.urlLengthLimit})}upsert(e,{onConflict:t,ignoreDuplicates:n=!1,count:r,defaultToNull:s=!0}={}){var i;const o="POST",{url:a,headers:l}=this.cloneRequestState();if(l.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),t!==void 0&&a.searchParams.set("on_conflict",t),r&&l.append("Prefer",`count=${r}`),s||l.append("Prefer","missing=default"),Array.isArray(e)){const u=e.reduce((c,g)=>c.concat(Object.keys(g)),[]);if(u.length>0){const c=[...new Set(u)].map(g=>`"${g}"`);a.searchParams.set("columns",c.join(","))}}return new An({method:o,url:a,headers:l,schema:this.schema,body:e,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch,urlLengthLimit:this.urlLengthLimit})}update(e,{count:t}={}){var n;const r="PATCH",{url:s,headers:i}=this.cloneRequestState();return t&&i.append("Prefer",`count=${t}`),new An({method:r,url:s,headers:i,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch,urlLengthLimit:this.urlLengthLimit})}delete({count:e}={}){var t;const n="DELETE",{url:r,headers:s}=this.cloneRequestState();return e&&s.append("Prefer",`count=${e}`),new An({method:n,url:r,headers:s,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch,urlLengthLimit:this.urlLengthLimit})}};function os(e){"@babel/helpers - typeof";return os=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},os(e)}function Og(e,t){if(os(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(os(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Rg(e){var t=Og(e,"string");return os(t)=="symbol"?t:t+""}function Pg(e,t,n){return(t=Rg(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function Us(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?yc(Object(n),!0).forEach(function(r){Pg(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yc(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var Ag=class sf{constructor(t,{headers:n={},schema:r,fetch:s,timeout:i,urlLengthLimit:o=8e3}={}){this.url=t,this.headers=new Headers(n),this.schemaName=r,this.urlLengthLimit=o;const a=s??globalThis.fetch;i!==void 0&&i>0?this.fetch=(l,u)=>{const c=new AbortController,g=setTimeout(()=>c.abort(),i),f=u==null?void 0:u.signal;if(f){if(f.aborted)return clearTimeout(g),a(l,u);const v=()=>{clearTimeout(g),c.abort()};return f.addEventListener("abort",v,{once:!0}),a(l,Us(Us({},u),{},{signal:c.signal})).finally(()=>{clearTimeout(g),f.removeEventListener("abort",v)})}return a(l,Us(Us({},u),{},{signal:c.signal})).finally(()=>clearTimeout(g))}:this.fetch=a}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new Ng(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}schema(t){return new sf(this.url,{headers:this.headers,schema:t,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}rpc(t,n={},{head:r=!1,get:s=!1,count:i}={}){var o;let a;const l=new URL(`${this.url}/rpc/${t}`);let u;const c=v=>v!==null&&typeof v=="object"&&(!Array.isArray(v)||v.some(c)),g=r&&Object.values(n).some(c);g?(a="POST",u=n):r||s?(a=r?"HEAD":"GET",Object.entries(n).filter(([v,w])=>w!==void 0).map(([v,w])=>[v,Array.isArray(w)?`{${w.join(",")}}`:`${w}`]).forEach(([v,w])=>{l.searchParams.append(v,w)})):(a="POST",u=n);const f=new Headers(this.headers);return g?f.set("Prefer",i?`count=${i},return=minimal`:"return=minimal"):i&&f.set("Prefer",`count=${i}`),new An({method:a,url:l,headers:f,schema:this.schemaName,body:u,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch,urlLengthLimit:this.urlLengthLimit})}};class Ig{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const n=globalThis.process;if(n){const r=n.versions;if(r&&r.node){const s=r.node,i=parseInt(s.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){const r=this.getWebSocketConstructor();return new r(t,n)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const $g="2.95.3",Lg=`realtime-js/${$g}`,Dg="1.0.0",of="2.0.0",wc=of,Ma=1e4,Ug=1e3,zg=100;var $t;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})($t||($t={}));var le;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(le||(le={}));var it;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(it||(it={}));var Fa;(function(e){e.websocket="websocket"})(Fa||(Fa={}));var ln;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(ln||(ln={}));class Mg{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,n){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(t));let r=[t.join_ref,t.ref,t.topic,t.event,t.payload];return n(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(t){var n;return this._isArrayBuffer((n=t.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var n,r;const s=(r=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,s)}_encodeJsonUserBroadcastPush(t){var n,r;const s=(r=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:{},o=new TextEncoder().encode(JSON.stringify(s)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,o)}_encodeUserBroadcastPush(t,n,r){var s,i;const o=t.topic,a=(s=t.ref)!==null&&s!==void 0?s:"",l=(i=t.join_ref)!==null&&i!==void 0?i:"",u=t.payload.event,c=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},g=Object.keys(c).length===0?"":JSON.stringify(c);if(l.length>255)throw new Error(`joinRef length ${l.length} exceeds maximum of 255`);if(a.length>255)throw new Error(`ref length ${a.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`topic length ${o.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`userEvent length ${u.length} exceeds maximum of 255`);if(g.length>255)throw new Error(`metadata length ${g.length} exceeds maximum of 255`);const f=this.USER_BROADCAST_PUSH_META_LENGTH+l.length+a.length+o.length+u.length+g.length,v=new ArrayBuffer(this.HEADER_LENGTH+f);let w=new DataView(v),_=0;w.setUint8(_++,this.KINDS.userBroadcastPush),w.setUint8(_++,l.length),w.setUint8(_++,a.length),w.setUint8(_++,o.length),w.setUint8(_++,u.length),w.setUint8(_++,g.length),w.setUint8(_++,n),Array.from(l,p=>w.setUint8(_++,p.charCodeAt(0))),Array.from(a,p=>w.setUint8(_++,p.charCodeAt(0))),Array.from(o,p=>w.setUint8(_++,p.charCodeAt(0))),Array.from(u,p=>w.setUint8(_++,p.charCodeAt(0))),Array.from(g,p=>w.setUint8(_++,p.charCodeAt(0)));var k=new Uint8Array(v.byteLength+r.byteLength);return k.set(new Uint8Array(v),0),k.set(new Uint8Array(r),v.byteLength),k.buffer}decode(t,n){if(this._isArrayBuffer(t)){let r=this._binaryDecode(t);return n(r)}if(typeof t=="string"){const r=JSON.parse(t),[s,i,o,a,l]=r;return n({join_ref:s,ref:i,topic:o,event:a,payload:l})}return n({})}_binaryDecode(t){const n=new DataView(t),r=n.getUint8(0),s=new TextDecoder;switch(r){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,n,s)}}_decodeUserBroadcast(t,n,r){const s=n.getUint8(1),i=n.getUint8(2),o=n.getUint8(3),a=n.getUint8(4);let l=this.HEADER_LENGTH+4;const u=r.decode(t.slice(l,l+s));l=l+s;const c=r.decode(t.slice(l,l+i));l=l+i;const g=r.decode(t.slice(l,l+o));l=l+o;const f=t.slice(l,t.byteLength),v=a===this.JSON_ENCODING?JSON.parse(r.decode(f)):f,w={type:this.BROADCAST_EVENT,event:c,payload:v};return o>0&&(w.meta=JSON.parse(g)),{join_ref:null,ref:null,topic:u,event:this.BROADCAST_EVENT,payload:w}}_isArrayBuffer(t){var n;return t instanceof ArrayBuffer||((n=t==null?void 0:t.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(t,n){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([r])=>n.includes(r)))}}class af{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var K;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(K||(K={}));const _c=(e,t,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return t?Object.keys(t).reduce((i,o)=>(i[o]=Fg(o,e,t,s),i),{}):{}},Fg=(e,t,n,r)=>{const s=t.find(a=>a.name===e),i=s==null?void 0:s.type,o=n[e];return i&&!r.includes(i)?lf(i,o):Ba(o)},lf=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return Hg(t,n)}switch(e){case K.bool:return Bg(t);case K.float4:case K.float8:case K.int2:case K.int4:case K.int8:case K.numeric:case K.oid:return Wg(t);case K.json:case K.jsonb:return Vg(t);case K.timestamp:return qg(t);case K.abstime:case K.date:case K.daterange:case K.int4range:case K.int8range:case K.money:case K.reltime:case K.text:case K.time:case K.timestamptz:case K.timetz:case K.tsrange:case K.tstzrange:return Ba(t);default:return Ba(t)}},Ba=e=>e,Bg=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},Wg=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},Vg=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e},Hg=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let i;const o=e.slice(1,n);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>lf(t,a))}return e},qg=e=>typeof e=="string"?e.replace(" ","T"):e,uf=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class Do{constructor(t,n,r={},s=Ma){this.channel=t,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Sc;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Sc||(Sc={}));class Fr{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Fr.syncState(this.state,s,i,o),this.pendingDiffs.forEach(l=>{this.state=Fr.syncDiff(this.state,l,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Fr.syncDiff(this.state,s,i,o),a())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,s){const i=this.cloneDeep(t),o=this.transformState(n),a={},l={};return this.map(i,(u,c)=>{o[u]||(l[u]=c)}),this.map(o,(u,c)=>{const g=i[u];if(g){const f=c.map(k=>k.presence_ref),v=g.map(k=>k.presence_ref),w=c.filter(k=>v.indexOf(k.presence_ref)<0),_=g.filter(k=>f.indexOf(k.presence_ref)<0);w.length>0&&(a[u]=w),_.length>0&&(l[u]=_)}else a[u]=c}),this.syncDiff(i,{joins:a,leaves:l},r,s)}static syncDiff(t,n,r,s){const{joins:i,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(i,(a,l)=>{var u;const c=(u=t[a])!==null&&u!==void 0?u:[];if(t[a]=this.cloneDeep(l),c.length>0){const g=t[a].map(v=>v.presence_ref),f=c.filter(v=>g.indexOf(v.presence_ref)<0);t[a].unshift(...f)}r(a,c,l)}),this.map(o,(a,l)=>{let u=t[a];if(!u)return;const c=l.map(g=>g.presence_ref);u=u.filter(g=>c.indexOf(g.presence_ref)<0),t[a]=u,s(a,u,l),u.length===0&&delete t[a]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const s=t[r];return"metas"in s?n[r]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=s,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var kc;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(kc||(kc={}));var Br;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Br||(Br={}));var yt;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(yt||(yt={}));class Gn{constructor(t,n={config:{}},r){var s,i;if(this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=le.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Do(this,it.join,this.params,this.timeout),this.rejoinTimer=new af(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=le.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=le.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=le.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=le.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=le.errored,this.rejoinTimer.scheduleTimeout())}),this._on(it.reply,{},(o,a)=>{this._trigger(this._replyEventName(a),o)}),this.presence=new Fr(this),this.broadcastEndpointURL=uf(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,n=this.timeout){var r,s,i;if(this.socket.isConnected()||this.socket.connect(),this.state==le.closed){const{config:{broadcast:o,presence:a,private:l}}=this.params,u=(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(v=>v.filter))!==null&&s!==void 0?s:[],c=!!this.bindings[Br.PRESENCE]&&this.bindings[Br.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,g={},f={broadcast:o,presence:Object.assign(Object.assign({},a),{enabled:c}),postgres_changes:u,private:l};this.socket.accessTokenValue&&(g.access_token=this.socket.accessTokenValue),this._onError(v=>t==null?void 0:t(yt.CHANNEL_ERROR,v)),this._onClose(()=>t==null?void 0:t(yt.CLOSED)),this.updateJoinPayload(Object.assign({config:f},g)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:v})=>{var w;if(this.socket._isManualToken()||this.socket.setAuth(),v===void 0){t==null||t(yt.SUBSCRIBED);return}else{const _=this.bindings.postgres_changes,k=(w=_==null?void 0:_.length)!==null&&w!==void 0?w:0,p=[];for(let d=0;d<k;d++){const m=_[d],{filter:{event:S,schema:E,table:b,filter:C}}=m,N=v&&v[d];if(N&&N.event===S&&Gn.isFilterValueEqual(N.schema,E)&&Gn.isFilterValueEqual(N.table,b)&&Gn.isFilterValueEqual(N.filter,C))p.push(Object.assign(Object.assign({},m),{id:N.id}));else{this.unsubscribe(),this.state=le.errored,t==null||t(yt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=p,t&&t(yt.SUBSCRIBED);return}}).receive("error",v=>{this.state=le.errored,t==null||t(yt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(v).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(yt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this.state===le.joined&&t===Br.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,n,r)}async httpSend(t,n,r={}){var s;if(n==null)return Promise.reject("Payload is required for httpSend()");const i={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(i.Authorization=`Bearer ${this.socket.accessTokenValue}`);const o={method:"POST",headers:i,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:n,private:this.private}]})},a=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(s=r.timeout)!==null&&s!==void 0?s:this.timeout);if(a.status===202)return{success:!0};let l=a.statusText;try{const u=await a.json();l=u.error||u.message||l}catch{}return Promise.reject(new Error(l))}async send(t,n={}){var r,s;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:o}=t,a={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(a.Authorization=`Bearer ${this.socket.accessTokenValue}`);const l={method:"POST",headers:a,body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,l;const u=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=le.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(it.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(s=>{r=new Do(this,it.leave,{},t),r.receive("ok",()=>{n(),s("ok")}).receive("timeout",()=>{n(),s("timed out")}).receive("error",()=>{s("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=le.closed,this.bindings={}}async _fetchWithTimeout(t,n,r){const s=new AbortController,i=setTimeout(()=>s.abort(),r),o=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(i),o}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Do(this,t,n,r);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>zg){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var s,i;const o=t.toLocaleLowerCase(),{close:a,error:l,leave:u,join:c}=it;if(r&&[a,l,u,c].indexOf(o)>=0&&r!==this._joinRef())return;let f=this._onMessage(o,n,r);if(n&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(v=>{var w,_,k;return((w=v.filter)===null||w===void 0?void 0:w.event)==="*"||((k=(_=v.filter)===null||_===void 0?void 0:_.event)===null||k===void 0?void 0:k.toLocaleLowerCase())===o}).map(v=>v.callback(f,r)):(i=this.bindings[o])===null||i===void 0||i.filter(v=>{var w,_,k,p,d,m;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in v){const S=v.id,E=(w=v.filter)===null||w===void 0?void 0:w.event;return S&&((_=n.ids)===null||_===void 0?void 0:_.includes(S))&&(E==="*"||(E==null?void 0:E.toLocaleLowerCase())===((k=n.data)===null||k===void 0?void 0:k.type.toLocaleLowerCase()))}else{const S=(d=(p=v==null?void 0:v.filter)===null||p===void 0?void 0:p.event)===null||d===void 0?void 0:d.toLocaleLowerCase();return S==="*"||S===((m=n==null?void 0:n.event)===null||m===void 0?void 0:m.toLocaleLowerCase())}else return v.type.toLocaleLowerCase()===o}).map(v=>{if(typeof f=="object"&&"ids"in f){const w=f.data,{schema:_,table:k,commit_timestamp:p,type:d,errors:m}=w;f=Object.assign(Object.assign({},{schema:_,table:k,commit_timestamp:p,eventType:d,new:{},old:{},errors:m}),this._getPayloadRecords(w))}v.callback(f,r)})}_isClosed(){return this.state===le.closed}_isJoined(){return this.state===le.joined}_isJoining(){return this.state===le.joining}_isLeaving(){return this.state===le.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const s=t.toLocaleLowerCase(),i={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&Gn.isEqual(s.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}static isFilterValueEqual(t,n){return(t??void 0)===(n??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(it.close,{},t)}_onError(t){this._on(it.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=le.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=_c(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=_c(t.columns,t.old_record)),n}}const Uo=()=>{},zs={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Kg=[1e3,2e3,5e3,1e4],Gg=1e4,Jg=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Qg{constructor(t,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Ma,this.transport=null,this.heartbeatIntervalMs=zs.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Uo,this.ref=0,this.reconnectTimer=null,this.vsn=wc,this.logger=Uo,this.conn=null,this.sendBuffer=[],this.serializer=new Mg,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=s=>s?(...i)=>s(...i):(...i)=>fetch(...i),!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${Fa.websocket}`,this.httpEndpoint=uf(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Ig.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return n==="ok"&&this._remove(t),this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case $t.connecting:return ln.Connecting;case $t.open:return ln.Open;case $t.closing:return ln.Closing;default:return ln.Closed}}isConnected(){return this.connectionState()===ln.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){const r=`realtime:${t}`,s=this.getChannels().find(i=>i.topic===r);if(s)return s;{const i=new Gn(`realtime:${t}`,n,this);return this.channels.push(i),i}}push(t){const{topic:n,event:r,payload:s,ref:i}=t,o=()=>{this.encode(t,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${n} ${r} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(Ug,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},zs.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply"&&n.ref&&n.ref===this.pendingHeartbeatRef){const u=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error",u)}catch(c){this.log("error","error in heartbeat callback",c)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:r,event:s,payload:i,ref:o}=n,a=o?`(${o})`:"",l=i.status||"";this.log("receive",`${l} ${r} ${s} ${a}`.trim(),i),this.channels.filter(u=>u._isMember(r)).forEach(u=>u._trigger(s,i,o)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===$t.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===$t.open||this.conn.readyState===$t.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this._terminateWorker()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t);try{this.heartbeatCallback("error")}catch(n){this.log("error","error in heartbeat callback",n)}}_triggerChanError(){this.channels.forEach(t=>t._trigger(it.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${t}${r}${s}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([Jg],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(t=null){let n,r=!1;if(t)n=t,r=!0;else if(this.accessToken)try{n=await this.accessToken()}catch(s){this.log("error","Error fetching access token from callback",s),n=this.accessTokenValue}else n=this.accessTokenValue;r?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(s=>{const i={access_token:n,version:Lg};n&&s.updateJoinPayload(i),s.joinedOnce&&s._isJoined()&&s._push(it.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(n=>{this.log("error",`Error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(r=>{try{r(n)}catch(s){this.log("error",`error in ${t} callback`,s)}})}catch(r){this.log("error",`error triggering ${t} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new af(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},zs.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var n,r,s,i,o,a,l,u,c,g,f,v;switch(this.transport=(n=t==null?void 0:t.transport)!==null&&n!==void 0?n:null,this.timeout=(r=t==null?void 0:t.timeout)!==null&&r!==void 0?r:Ma,this.heartbeatIntervalMs=(s=t==null?void 0:t.heartbeatIntervalMs)!==null&&s!==void 0?s:zs.HEARTBEAT_INTERVAL,this.worker=(i=t==null?void 0:t.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=t==null?void 0:t.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(a=t==null?void 0:t.heartbeatCallback)!==null&&a!==void 0?a:Uo,this.vsn=(l=t==null?void 0:t.vsn)!==null&&l!==void 0?l:wc,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=t==null?void 0:t.reconnectAfterMs)!==null&&u!==void 0?u:w=>Kg[w-1]||Gg,this.vsn){case Dg:this.encode=(c=t==null?void 0:t.encode)!==null&&c!==void 0?c:(w,_)=>_(JSON.stringify(w)),this.decode=(g=t==null?void 0:t.decode)!==null&&g!==void 0?g:(w,_)=>_(JSON.parse(w));break;case of:this.encode=(f=t==null?void 0:t.encode)!==null&&f!==void 0?f:this.serializer.encode.bind(this.serializer),this.decode=(v=t==null?void 0:t.decode)!==null&&v!==void 0?v:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}var as=class extends Error{constructor(e,t){var n;super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&((n=t.icebergType)==null?void 0:n.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function Yg(e,t,n){const r=new URL(t,e);if(n)for(const[s,i]of Object.entries(n))i!==void 0&&r.searchParams.set(s,i);return r.toString()}async function Xg(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function Zg(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:n,path:r,query:s,body:i,headers:o}){const a=Yg(e.baseUrl,r,s),l=await Xg(e.auth),u=await t(a,{method:n,headers:{...i?{"Content-Type":"application/json"}:{},...l,...o},body:i?JSON.stringify(i):void 0}),c=await u.text(),g=(u.headers.get("content-type")||"").includes("application/json"),f=g&&c?JSON.parse(c):c;if(!u.ok){const v=g?f:void 0,w=v==null?void 0:v.error;throw new as((w==null?void 0:w.message)??`Request failed with status ${u.status}`,{status:u.status,icebergType:w==null?void 0:w.type,icebergCode:w==null?void 0:w.code,details:v})}return{status:u.status,headers:u.headers,data:f}}}}function Ms(e){return e.join("")}var ev=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:Ms(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(r=>({namespace:r}))}async createNamespace(e,t){const n={namespace:e.namespace,properties:t==null?void 0:t.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Ms(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ms(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Ms(e.namespace)}`}),!0}catch(t){if(t instanceof as&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(n){if(n instanceof as&&n.status===409)return;throw n}}};function Cn(e){return e.join("")}var tv=class{constructor(e,t="",n){this.client=e,this.prefix=t,this.accessDelegation=n}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Cn(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Cn(e.namespace)}/tables`,body:t,headers:n})).data.metadata}async updateTable(e,t){const n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Cn(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Cn(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String((t==null?void 0:t.purge)??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Cn(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Cn(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(n){if(n instanceof as&&n.status===404)return!1;throw n}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(n){if(n instanceof as&&n.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw n}}},nv=class{constructor(e){var r;let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const n=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=Zg({baseUrl:n,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=(r=e.accessDelegation)==null?void 0:r.join(","),this.namespaceOps=new ev(this.client,t),this.tableOps=new tv(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}},Yi=class extends Error{constructor(e,t="storage",n,r){super(e),this.__isStorageError=!0,this.namespace=t,this.name=t==="vectors"?"StorageVectorsError":"StorageError",this.status=n,this.statusCode=r}};function Xi(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var Fs=class extends Yi{constructor(e,t,n,r="storage"){super(e,r,t,n),this.name=r==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=t,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},cf=class extends Yi{constructor(e,t,n="storage"){super(e,n),this.name=n==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=t}};const rv=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),sv=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Wa=e=>{if(Array.isArray(e))return e.map(n=>Wa(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[s]=Wa(r)}),t},iv=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e);function ls(e){"@babel/helpers - typeof";return ls=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ls(e)}function ov(e,t){if(ls(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(ls(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function av(e){var t=ov(e,"string");return ls(t)=="symbol"?t:t+""}function lv(e,t,n){return(t=av(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function I(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?xc(Object(n),!0).forEach(function(r){lv(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xc(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}const Ec=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},uv=async(e,t,n,r)=>{if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(n!=null&&n.noResolveJson)){const s=e,i=s.status||500;if(typeof s.json=="function")s.json().then(o=>{const a=(o==null?void 0:o.statusCode)||(o==null?void 0:o.code)||i+"";t(new Fs(Ec(o),i,a,r))}).catch(()=>{if(r==="vectors"){const o=i+"";t(new Fs(s.statusText||`HTTP ${i} error`,i,o,r))}else{const o=i+"";t(new Fs(s.statusText||`HTTP ${i} error`,i,o,r))}});else{const o=i+"";t(new Fs(s.statusText||`HTTP ${i} error`,i,o,r))}}else t(new cf(Ec(e),e,r))},cv=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||e==="HEAD"||!r?I(I({},s),n):(sv(r)?(s.headers=I({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(r)):s.body=r,t!=null&&t.duplex&&(s.duplex=t.duplex),I(I({},s),n))};async function Tr(e,t,n,r,s,i,o){return new Promise((a,l)=>{e(n,cv(t,r,s,i)).then(u=>{if(!u.ok)throw u;if(r!=null&&r.noResolveJson)return u;if(o==="vectors"){const c=u.headers.get("content-type");if(u.headers.get("content-length")==="0"||u.status===204)return{};if(!c||!c.includes("application/json"))return{}}return u.json()}).then(u=>a(u)).catch(u=>uv(u,l,r,o))})}function df(e="storage"){return{get:async(t,n,r,s)=>Tr(t,"GET",n,r,s,void 0,e),post:async(t,n,r,s,i)=>Tr(t,"POST",n,s,i,r,e),put:async(t,n,r,s,i)=>Tr(t,"PUT",n,s,i,r,e),head:async(t,n,r,s)=>Tr(t,"HEAD",n,I(I({},r),{},{noResolveJson:!0}),s,void 0,e),remove:async(t,n,r,s,i)=>Tr(t,"DELETE",n,s,i,r,e)}}const dv=df("storage"),{get:us,post:rt,put:Va,head:hv,remove:ql}=dv,$e=df("vectors");var fr=class{constructor(e,t={},n,r="storage"){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.fetch=rv(n),this.namespace=r}throwOnError(){return this.shouldThrowOnError=!0,this}async handleOperation(e){var t=this;try{return{data:await e(),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Xi(n))return{data:null,error:n};throw n}}},fv=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){var e=this;try{return{data:(await e.downloadFn()).body,error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Xi(t))return{data:null,error:t};throw t}}};let hf;hf=Symbol.toStringTag;var pv=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[hf]="BlobDownloadBuilder",this.promise=null}asStream(){return new fv(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var e=this;try{return{data:await(await e.downloadFn()).blob(),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Xi(t))return{data:null,error:t};throw t}}};const mv={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},bc={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var gv=class extends fr{constructor(e,t={},n,r){super(e,t,r,"storage"),this.bucketId=n}async uploadOrUpdate(e,t,n,r){var s=this;return s.handleOperation(async()=>{let i;const o=I(I({},bc),r);let a=I(I({},s.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",s.encodeMetadata(l)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.has("cacheControl")||i.append("cacheControl",o.cacheControl),l&&!i.has("metadata")&&i.append("metadata",s.encodeMetadata(l))):(i=n,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=s.toBase64(s.encodeMetadata(l))),(typeof ReadableStream<"u"&&i instanceof ReadableStream||i&&typeof i=="object"&&"pipe"in i&&typeof i.pipe=="function")&&!o.duplex&&(o.duplex="half")),r!=null&&r.headers&&(a=I(I({},a),r.headers));const u=s._removeEmptyFolders(t),c=s._getFinalPath(u),g=await(e=="PUT"?Va:rt)(s.fetch,`${s.url}/object/${c}`,i,I({headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{path:u,id:g.Id,fullPath:g.Key}})}async upload(e,t,n){return this.uploadOrUpdate("POST",e,t,n)}async uploadToSignedUrl(e,t,n,r){var s=this;const i=s._removeEmptyFolders(e),o=s._getFinalPath(i),a=new URL(s.url+`/object/upload/sign/${o}`);return a.searchParams.set("token",t),s.handleOperation(async()=>{let l;const u=I({upsert:bc.upsert},r),c=I(I({},s.headers),{"x-upsert":String(u.upsert)});return typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",u.cacheControl)):(l=n,c["cache-control"]=`max-age=${u.cacheControl}`,c["content-type"]=u.contentType),{path:i,fullPath:(await Va(s.fetch,a.toString(),l,{headers:c})).Key}})}async createSignedUploadUrl(e,t){var n=this;return n.handleOperation(async()=>{let r=n._getFinalPath(e);const s=I({},n.headers);t!=null&&t.upsert&&(s["x-upsert"]="true");const i=await rt(n.fetch,`${n.url}/object/upload/sign/${r}`,{},{headers:s}),o=new URL(n.url+i.url),a=o.searchParams.get("token");if(!a)throw new Yi("No token returned by API");return{signedUrl:o.toString(),path:e,token:a}})}async update(e,t,n){return this.uploadOrUpdate("PUT",e,t,n)}async move(e,t,n){var r=this;return r.handleOperation(async()=>await rt(r.fetch,`${r.url}/object/move`,{bucketId:r.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n==null?void 0:n.destinationBucket},{headers:r.headers}))}async copy(e,t,n){var r=this;return r.handleOperation(async()=>({path:(await rt(r.fetch,`${r.url}/object/copy`,{bucketId:r.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n==null?void 0:n.destinationBucket},{headers:r.headers})).Key}))}async createSignedUrl(e,t,n){var r=this;return r.handleOperation(async()=>{let s=r._getFinalPath(e),i=await rt(r.fetch,`${r.url}/object/sign/${s}`,I({expiresIn:t},n!=null&&n.transform?{transform:n.transform}:{}),{headers:r.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{signedUrl:encodeURI(`${r.url}${i.signedURL}${o}`)}})}async createSignedUrls(e,t,n){var r=this;return r.handleOperation(async()=>{const s=await rt(r.fetch,`${r.url}/object/sign/${r.bucketId}`,{expiresIn:t,paths:e},{headers:r.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return s.map(o=>I(I({},o),{},{signedUrl:o.signedURL?encodeURI(`${r.url}${o.signedURL}${i}`):null}))})}download(e,t,n){const r=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),i=s?`?${s}`:"",o=this._getFinalPath(e),a=()=>us(this.fetch,`${this.url}/${r}/${o}${i}`,{headers:this.headers,noResolveJson:!0},n);return new pv(a,this.shouldThrowOnError)}async info(e){var t=this;const n=t._getFinalPath(e);return t.handleOperation(async()=>Wa(await us(t.fetch,`${t.url}/object/info/${n}`,{headers:t.headers})))}async exists(e){var t=this;const n=t._getFinalPath(e);try{return await hv(t.fetch,`${t.url}/object/${n}`,{headers:t.headers}),{data:!0,error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Xi(r)&&r instanceof cf){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}}getPublicUrl(e,t){const n=this._getFinalPath(e),r=[],s=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";s!==""&&r.push(s);const i=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",o=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});o!==""&&r.push(o);let a=r.join("&");return a!==""&&(a=`?${a}`),{data:{publicUrl:encodeURI(`${this.url}/${i}/public/${n}${a}`)}}}async remove(e){var t=this;return t.handleOperation(async()=>await ql(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:e},{headers:t.headers}))}async list(e,t,n){var r=this;return r.handleOperation(async()=>{const s=I(I(I({},mv),t),{},{prefix:e||""});return await rt(r.fetch,`${r.url}/object/list/${r.bucketId}`,s,{headers:r.headers},n)})}async listV2(e,t){var n=this;return n.handleOperation(async()=>{const r=I({},e);return await rt(n.fetch,`${n.url}/object/list-v2/${n.bucketId}`,r,{headers:n.headers},t)})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}};const vv="2.95.3",ys={"X-Client-Info":`storage-js/${vv}`};var yv=class extends fr{constructor(e,t={},n,r){const s=new URL(e);r!=null&&r.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase."));const i=s.href.replace(/\/$/,""),o=I(I({},ys),t);super(i,o,n,"storage")}async listBuckets(e){var t=this;return t.handleOperation(async()=>{const n=t.listBucketOptionsToQueryString(e);return await us(t.fetch,`${t.url}/bucket${n}`,{headers:t.headers})})}async getBucket(e){var t=this;return t.handleOperation(async()=>await us(t.fetch,`${t.url}/bucket/${e}`,{headers:t.headers}))}async createBucket(e,t={public:!1}){var n=this;return n.handleOperation(async()=>await rt(n.fetch,`${n.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:n.headers}))}async updateBucket(e,t){var n=this;return n.handleOperation(async()=>await Va(n.fetch,`${n.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:n.headers}))}async emptyBucket(e){var t=this;return t.handleOperation(async()=>await rt(t.fetch,`${t.url}/bucket/${e}/empty`,{},{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await ql(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},wv=class extends fr{constructor(e,t={},n){const r=e.replace(/\/$/,""),s=I(I({},ys),t);super(r,s,n,"storage")}async createBucket(e){var t=this;return t.handleOperation(async()=>await rt(t.fetch,`${t.url}/bucket`,{name:e},{headers:t.headers}))}async listBuckets(e){var t=this;return t.handleOperation(async()=>{const n=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&n.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&n.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&n.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&n.set("sortOrder",e.sortOrder),e!=null&&e.search&&n.set("search",e.search);const r=n.toString(),s=r?`${t.url}/bucket?${r}`:`${t.url}/bucket`;return await us(t.fetch,s,{headers:t.headers})})}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await ql(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}from(e){var t=this;if(!iv(e))throw new Yi("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const n=new nv({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),r=this.shouldThrowOnError;return new Proxy(n,{get(s,i){const o=s[i];return typeof o!="function"?o:async(...a)=>{try{return{data:await o.apply(s,a),error:null}}catch(l){if(r)throw l;return{data:null,error:l}}}}})}},_v=class extends fr{constructor(e,t={},n){const r=e.replace(/\/$/,""),s=I(I({},ys),{},{"Content-Type":"application/json"},t);super(r,s,n,"vectors")}async createIndex(e){var t=this;return t.handleOperation(async()=>await $e.post(t.fetch,`${t.url}/CreateIndex`,e,{headers:t.headers})||{})}async getIndex(e,t){var n=this;return n.handleOperation(async()=>await $e.post(n.fetch,`${n.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:n.headers}))}async listIndexes(e){var t=this;return t.handleOperation(async()=>await $e.post(t.fetch,`${t.url}/ListIndexes`,e,{headers:t.headers}))}async deleteIndex(e,t){var n=this;return n.handleOperation(async()=>await $e.post(n.fetch,`${n.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:n.headers})||{})}},Sv=class extends fr{constructor(e,t={},n){const r=e.replace(/\/$/,""),s=I(I({},ys),{},{"Content-Type":"application/json"},t);super(r,s,n,"vectors")}async putVectors(e){var t=this;if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return t.handleOperation(async()=>await $e.post(t.fetch,`${t.url}/PutVectors`,e,{headers:t.headers})||{})}async getVectors(e){var t=this;return t.handleOperation(async()=>await $e.post(t.fetch,`${t.url}/GetVectors`,e,{headers:t.headers}))}async listVectors(e){var t=this;if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return t.handleOperation(async()=>await $e.post(t.fetch,`${t.url}/ListVectors`,e,{headers:t.headers}))}async queryVectors(e){var t=this;return t.handleOperation(async()=>await $e.post(t.fetch,`${t.url}/QueryVectors`,e,{headers:t.headers}))}async deleteVectors(e){var t=this;if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return t.handleOperation(async()=>await $e.post(t.fetch,`${t.url}/DeleteVectors`,e,{headers:t.headers})||{})}},kv=class extends fr{constructor(e,t={},n){const r=e.replace(/\/$/,""),s=I(I({},ys),{},{"Content-Type":"application/json"},t);super(r,s,n,"vectors")}async createBucket(e){var t=this;return t.handleOperation(async()=>await $e.post(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}async getBucket(e){var t=this;return t.handleOperation(async()=>await $e.post(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:e},{headers:t.headers}))}async listBuckets(e={}){var t=this;return t.handleOperation(async()=>await $e.post(t.fetch,`${t.url}/ListVectorBuckets`,e,{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await $e.post(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}},xv=class extends kv{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new Ev(this.url,this.headers,e,this.fetch)}async createBucket(e){var t=()=>super.createBucket,n=this;return t().call(n,e)}async getBucket(e){var t=()=>super.getBucket,n=this;return t().call(n,e)}async listBuckets(e={}){var t=()=>super.listBuckets,n=this;return t().call(n,e)}async deleteBucket(e){var t=()=>super.deleteBucket,n=this;return t().call(n,e)}},Ev=class extends _v{constructor(e,t,n,r){super(e,t,r),this.vectorBucketName=n}async createIndex(e){var t=()=>super.createIndex,n=this;return t().call(n,I(I({},e),{},{vectorBucketName:n.vectorBucketName}))}async listIndexes(e={}){var t=()=>super.listIndexes,n=this;return t().call(n,I(I({},e),{},{vectorBucketName:n.vectorBucketName}))}async getIndex(e){var t=()=>super.getIndex,n=this;return t().call(n,n.vectorBucketName,e)}async deleteIndex(e){var t=()=>super.deleteIndex,n=this;return t().call(n,n.vectorBucketName,e)}index(e){return new bv(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},bv=class extends Sv{constructor(e,t,n,r,s){super(e,t,s),this.vectorBucketName=n,this.indexName=r}async putVectors(e){var t=()=>super.putVectors,n=this;return t().call(n,I(I({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async getVectors(e){var t=()=>super.getVectors,n=this;return t().call(n,I(I({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async listVectors(e={}){var t=()=>super.listVectors,n=this;return t().call(n,I(I({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async queryVectors(e){var t=()=>super.queryVectors,n=this;return t().call(n,I(I({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async deleteVectors(e){var t=()=>super.deleteVectors,n=this;return t().call(n,I(I({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}},Tv=class extends yv{constructor(e,t={},n,r){super(e,t,n,r)}from(e){return new gv(this.url,this.headers,e,this.fetch)}get vectors(){return new xv(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new wv(this.url+"/iceberg",this.headers,this.fetch)}};const ff="2.95.3",In=30*1e3,Ha=3,zo=Ha*In,Cv="http://localhost:9999",jv="supabase.auth.token",Nv={"X-Client-Info":`gotrue-js/${ff}`},qa="X-Supabase-Api-Version",pf={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Ov=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Rv=10*60*1e3;class cs extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function P(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class Pv extends cs{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function Av(e){return P(e)&&e.name==="AuthApiError"}class un extends cs{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class jt extends cs{constructor(t,n,r,s){super(t,r,s),this.name=n,this.status=r}}class Ae extends jt{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Mo(e){return P(e)&&e.name==="AuthSessionMissingError"}class jn extends jt{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Bs extends jt{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Ws extends jt{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Iv(e){return P(e)&&e.name==="AuthImplicitGrantRedirectError"}class Tc extends jt{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class $v extends jt{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Ka extends jt{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function Fo(e){return P(e)&&e.name==="AuthRetryableFetchError"}class Cc extends jt{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class Ga extends jt{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Oi="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),jc=` 	
\r=`.split(""),Lv=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<jc.length;t+=1)e[jc[t].charCodeAt(0)]=-2;for(let t=0;t<Oi.length;t+=1)e[Oi[t].charCodeAt(0)]=t;return e})();function Nc(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(Oi[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(Oi[r]),t.queuedBits-=6}}function mf(e,t,n){const r=Lv[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Oc(e){const t=[],n=o=>{t.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{zv(o,r,n)};for(let o=0;o<e.length;o+=1)mf(e.charCodeAt(o),s,i);return t.join("")}function Dv(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function Uv(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const s=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}Dv(r,t)}}function zv(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if(!(e>>7-r&1)){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function nr(e){const t=[],n={queue:0,queuedBits:0},r=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)mf(e.charCodeAt(s),n,r);return new Uint8Array(t)}function Mv(e){const t=[];return Uv(e,n=>t.push(n)),new Uint8Array(t)}function fn(e){const t=[],n={queue:0,queuedBits:0},r=s=>{t.push(s)};return e.forEach(s=>Nc(s,n,r)),Nc(null,n,r),t.join("")}function Fv(e){return Math.round(Date.now()/1e3)+e}function Bv(){return Symbol("auth-callback")}const pe=()=>typeof window<"u"&&typeof document<"u",nn={tested:!1,writable:!1},gf=()=>{if(!pe())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(nn.tested)return nn.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),nn.tested=!0,nn.writable=!0}catch{nn.tested=!0,nn.writable=!1}return nn.writable};function Wv(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,i)=>{t[i]=s})}catch{}return n.searchParams.forEach((r,s)=>{t[s]=r}),t}const vf=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),Vv=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",$n=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},rn=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},fe=async(e,t)=>{await e.removeItem(t)};class Zi{constructor(){this.promise=new Zi.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}Zi.promiseConstructor=Promise;function Vs(e){const t=e.split(".");if(t.length!==3)throw new Ga("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!Ov.test(t[r]))throw new Ga("JWT not in base64url format");return{header:JSON.parse(Oc(t[0])),payload:JSON.parse(Oc(t[1])),signature:nr(t[2]),raw:{header:t[0],payload:t[1]}}}async function Hv(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function qv(e,t){return new Promise((r,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){r(o);return}}catch(o){if(!t(i,o)){s(o);return}}})()})}function Kv(e){return("0"+e.toString(16)).substr(-2)}function Gv(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let i=0;i<56;i++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(t),Array.from(t,Kv).join("")}async function Jv(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function Qv(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await Jv(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Nn(e,t,n=!1){const r=Gv();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await $n(e,`${t}-code-verifier`,s);const i=await Qv(r);return[i,r===i?"plain":"s256"]}const Yv=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Xv(e){const t=e.headers.get(qa);if(!t||!t.match(Yv))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function Zv(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function ey(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const ty=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function On(e){if(!ty.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Bo(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function ny(e,t){return new Proxy(e,{get:(n,r,s)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const i=r.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,r,s)}return!t.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(n,r,s)}})}function Rc(e){return JSON.parse(JSON.stringify(e))}const an=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),ry=[502,503,504];async function Pc(e){var t;if(!Vv(e))throw new Ka(an(e),0);if(ry.includes(e.status))throw new Ka(an(e),e.status);let n;try{n=await e.json()}catch(i){throw new un(an(i),i)}let r;const s=Xv(e);if(s&&s.getTime()>=pf["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new Cc(an(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new Ae}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new Cc(an(n),e.status,n.weak_password.reasons);throw new Pv(an(n),e.status||500,r)}const sy=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function A(e,t,n,r){var s;const i=Object.assign({},r==null?void 0:r.headers);i[qa]||(i[qa]=pf["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const o=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await iy(e,t,n+a,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function iy(e,t,n,r,s,i){const o=sy(t,r,s,i);let a;try{a=await e(n,Object.assign({},o))}catch(l){throw console.error(l),new Ka(an(l),0)}if(a.ok||await Pc(a),r!=null&&r.noResolveJson)return a;try{return await a.json()}catch(l){await Pc(l)}}function tt(e){var t;let n=null;ly(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=Fv(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function Ac(e){const t=tt(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Ut(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function oy(e){return{data:e,error:null}}function ay(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i}=e,o=Qi(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function Ic(e){return e}function ly(e){return e.access_token&&e.refresh_token&&e.expires_in}const Wo=["global","local","others"];class uy{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=vf(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,n=Wo[0]){if(Wo.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Wo.join(", ")}`);try{return await A(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(P(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await A(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Ut})}catch(r){if(P(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=Qi(t,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await A(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:ay,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(P(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await A(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Ut})}catch(n){if(P(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,s,i,o,a,l;try{const u={nextPage:null,lastPage:0,total:0},c=await A(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:Ic});if(c.error)throw c.error;const g=await c.json(),f=(o=c.headers.get("x-total-count"))!==null&&o!==void 0?o:0,v=(l=(a=c.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return v.length>0&&(v.forEach(w=>{const _=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),k=JSON.parse(w.split(";")[1].split("=")[1]);u[`${k}Page`]=_}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},g),u),error:null}}catch(u){if(P(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){On(t);try{return await A(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Ut})}catch(n){if(P(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){On(t);try{return await A(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:Ut})}catch(r){if(P(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){On(t);try{return await A(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:Ut})}catch(r){if(P(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){On(t.userId);try{const{data:n,error:r}=await A(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(P(n))return{data:null,error:n};throw n}}async _deleteFactor(t){On(t.userId),On(t.id);try{return{data:await A(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(P(n))return{data:null,error:n};throw n}}async _listOAuthClients(t){var n,r,s,i,o,a,l;try{const u={nextPage:null,lastPage:0,total:0},c=await A(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:Ic});if(c.error)throw c.error;const g=await c.json(),f=(o=c.headers.get("x-total-count"))!==null&&o!==void 0?o:0,v=(l=(a=c.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return v.length>0&&(v.forEach(w=>{const _=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),k=JSON.parse(w.split(";")[1].split("=")[1]);u[`${k}Page`]=_}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},g),u),error:null}}catch(u){if(P(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(t){try{return await A(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(P(n))return{data:null,error:n};throw n}}async _getOAuthClient(t){try{return await A(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(P(n))return{data:null,error:n};throw n}}async _updateOAuthClient(t,n){try{return await A(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:n,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(P(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(t){try{return await A(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(P(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(t){try{return await A(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(P(n))return{data:null,error:n};throw n}}}function $c(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}const Rn={debug:!!(globalThis&&gf()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class yf extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class cy extends yf{}async function dy(e,t,n){Rn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),Rn.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){Rn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await n()}finally{Rn.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw Rn.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new cy(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Rn.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function hy(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function wf(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function fy(e){return parseInt(e,16)}function py(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,r=>r.toString(16).padStart(2,"0")).join("")}function my(e){var t;const{chainId:n,domain:r,expirationTime:s,issuedAt:i=new Date,nonce:o,notBefore:a,requestId:l,resources:u,scheme:c,uri:g,version:f}=e;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!g)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(f!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${f}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const v=wf(e.address),w=c?`${c}://${r}`:r,_=e.statement?`${e.statement}
`:"",k=`${w} wants you to sign in with your Ethereum account:
${v}

${_}`;let p=`URI: ${g}
Version: ${f}
Chain ID: ${n}${o?`
Nonce: ${o}`:""}
Issued At: ${i.toISOString()}`;if(s&&(p+=`
Expiration Time: ${s.toISOString()}`),a&&(p+=`
Not Before: ${a.toISOString()}`),l&&(p+=`
Request ID: ${l}`),u){let d=`
Resources:`;for(const m of u){if(!m||typeof m!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${m}`);d+=`
- ${m}`}p+=d}return`${k}
${p}`}class oe extends Error{constructor({message:t,code:n,cause:r,name:s}){var i;super(t,{cause:r}),this.__isWebAuthnError=!0,this.name=(i=s??(r instanceof Error?r.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=n}}class Ri extends oe{constructor(t,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:t}),this.name="WebAuthnUnknownError",this.originalError=n}}function gy({error:e,options:t}){var n,r,s;const{publicKey:i}=t;if(!i)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new oe({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((n=i.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new oe({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((r=i.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new oe({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((s=i.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new oe({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new oe({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new oe({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return i.pubKeyCredParams.filter(a=>a.type==="public-key").length===0?new oe({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new oe({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const o=window.location.hostname;if(_f(o)){if(i.rp.id!==o)return new oe({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new oe({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new oe({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new oe({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new oe({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function vy({error:e,options:t}){const{publicKey:n}=t;if(!n)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new oe({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new oe({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const r=window.location.hostname;if(_f(r)){if(n.rpId!==r)return new oe({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new oe({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new oe({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new oe({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class yy{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const wy=new yy;function _y(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:n,excludeCredentials:r}=e,s=Qi(e,["challenge","user","excludeCredentials"]),i=nr(t).buffer,o=Object.assign(Object.assign({},n),{id:nr(n.id).buffer}),a=Object.assign(Object.assign({},s),{challenge:i,user:o});if(r&&r.length>0){a.excludeCredentials=new Array(r.length);for(let l=0;l<r.length;l++){const u=r[l];a.excludeCredentials[l]=Object.assign(Object.assign({},u),{id:nr(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return a}function Sy(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:n}=e,r=Qi(e,["challenge","allowCredentials"]),s=nr(t).buffer,i=Object.assign(Object.assign({},r),{challenge:s});if(n&&n.length>0){i.allowCredentials=new Array(n.length);for(let o=0;o<n.length;o++){const a=n[o];i.allowCredentials[o]=Object.assign(Object.assign({},a),{id:nr(a.id).buffer,type:a.type||"public-key",transports:a.transports})}}return i}function ky(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e;return{id:e.id,rawId:e.id,response:{attestationObject:fn(new Uint8Array(e.response.attestationObject)),clientDataJSON:fn(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function xy(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e,r=e.getClientExtensionResults(),s=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:fn(new Uint8Array(s.authenticatorData)),clientDataJSON:fn(new Uint8Array(s.clientDataJSON)),signature:fn(new Uint8Array(s.signature)),userHandle:s.userHandle?fn(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function _f(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function Lc(){var e,t;return!!(pe()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function Ey(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Ri("Browser returned unexpected credential type",t)}:{data:null,error:new Ri("Empty credential response",t)}}catch(t){return{data:null,error:gy({error:t,options:e})}}}async function by(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Ri("Browser returned unexpected credential type",t)}:{data:null,error:new Ri("Empty credential response",t)}}catch(t){return{data:null,error:vy({error:t,options:e})}}}const Ty={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},Cy={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Pi(...e){const t=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),n=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),r={};for(const s of e)if(s)for(const i in s){const o=s[i];if(o!==void 0)if(Array.isArray(o))r[i]=o;else if(n(o))r[i]=o;else if(t(o)){const a=r[i];t(a)?r[i]=Pi(a,o):r[i]=Pi(o)}else r[i]=o}return r}function jy(e,t){return Pi(Ty,e,t||{})}function Ny(e,t){return Pi(Cy,e,t||{})}class Oy{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:n,friendlyName:r,signal:s},i){var o;try{const{data:a,error:l}=await this.client.mfa.challenge({factorId:t,webauthn:n});if(!a)return{data:null,error:l};const u=s??wy.createNewAbortSignal();if(a.webauthn.type==="create"){const{user:c}=a.webauthn.credential_options.publicKey;if(!c.name){const g=r;if(g)c.name=`${c.id}:${g}`;else{const v=(await this.client.getUser()).data.user,w=((o=v==null?void 0:v.user_metadata)===null||o===void 0?void 0:o.name)||(v==null?void 0:v.email)||(v==null?void 0:v.id)||"User";c.name=`${c.id}:${w}`}}c.displayName||(c.displayName=c.name)}switch(a.webauthn.type){case"create":{const c=jy(a.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:g,error:f}=await Ey({publicKey:c,signal:u});return g?{data:{factorId:t,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:g}},error:null}:{data:null,error:f}}case"request":{const c=Ny(a.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:g,error:f}=await by(Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:c,signal:u}));return g?{data:{factorId:t,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:g}},error:null}:{data:null,error:f}}}}catch(a){return P(a)?{data:null,error:a}:{data:null,error:new un("Unexpected error in challenge",a)}}}async _verify({challengeId:t,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:t,webauthn:r})}async _authenticate({factorId:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!n)return{data:null,error:new cs("rpId is required for WebAuthn authentication")};try{if(!Lc())return{data:null,error:new un("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this.challenge({factorId:t,webauthn:{rpId:n,rpOrigins:r},signal:s},{request:i});if(!o)return{data:null,error:a};const{webauthn:l}=o;return this._verify({factorId:t,challengeId:o.challengeId,webauthn:{type:l.type,rpId:n,rpOrigins:r,credential_response:l.credential_response}})}catch(o){return P(o)?{data:null,error:o}:{data:null,error:new un("Unexpected error in authenticate",o)}}}async _register({friendlyName:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!n)return{data:null,error:new cs("rpId is required for WebAuthn registration")};try{if(!Lc())return{data:null,error:new un("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this._enroll({friendlyName:t});if(!o)return await this.client.mfa.listFactors().then(c=>{var g;return(g=c.data)===null||g===void 0?void 0:g.all.find(f=>f.factor_type==="webauthn"&&f.friendly_name===t&&f.status!=="unverified")}).then(c=>c?this.client.mfa.unenroll({factorId:c==null?void 0:c.id}):void 0),{data:null,error:a};const{data:l,error:u}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:s},{create:i});return l?this._verify({factorId:o.id,challengeId:l.challengeId,webauthn:{rpId:n,rpOrigins:r,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:u}}catch(o){return P(o)?{data:null,error:o}:{data:null,error:new un("Unexpected error in register",o)}}}}hy();const Ry={url:Cv,storageKey:jv,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Nv,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function Dc(e,t,n){return await n()}const Pn={};class ds{get jwks(){var t,n;return(n=(t=Pn[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){Pn[this.storageKey]=Object.assign(Object.assign({},Pn[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=Pn[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Pn[this.storageKey]=Object.assign(Object.assign({},Pn[this.storageKey]),{cachedAt:t})}constructor(t){var n,r,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const i=Object.assign(Object.assign({},Ry),t);if(this.storageKey=i.storageKey,this.instanceID=(n=ds.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,ds.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.instanceID>0&&pe()){const o=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(o),this.logDebugMessages&&console.trace(o)}if(this.persistSession=i.persistSession,this.autoRefreshToken=i.autoRefreshToken,this.admin=new uy({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=vf(i.fetch),this.lock=i.lock||Dc,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,this.throwOnError=i.throwOnError,this.lockAcquireTimeout=i.lockAcquireTimeout,i.lock?this.lock=i.lock:this.persistSession&&pe()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=dy:this.lock=Dc,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new Oy(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:gf()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=$c(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=$c(this.memoryStorage)),pe()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o);try{await this._notifyAllSubscribers(o.data.event,o.data.session,!1)}catch(a){this._debug("#broadcastChannel","error",a)}})}this.initialize().catch(o=>{this._debug("#initialize()","error",o)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${ff}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let n={},r="none";if(pe()&&(n=Wv(window.location.href),this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce")),pe()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:i}=await this._getSessionFromURL(n,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),Iv(i)){const l=(t=i.details)===null||t===void 0?void 0:t.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return{error:i}}const{session:o,redirectType:a}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return P(n)?this._returnResult({error:n}):this._returnResult({error:new un("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,s;try{const i=await A(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:tt}),{data:o,error:a}=i;if(a||!o)return this._returnResult({data:{user:null,session:null},error:a});const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(i){if(P(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signUp(t){var n,r,s;try{let i;if("email"in t){const{email:c,password:g,options:f}=t;let v=null,w=null;this.flowType==="pkce"&&([v,w]=await Nn(this.storage,this.storageKey)),i=await A(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:c,password:g,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:v,code_challenge_method:w},xform:tt})}else if("phone"in t){const{phone:c,password:g,options:f}=t;i=await A(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:c,password:g,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},channel:(s=f==null?void 0:f.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:tt})}else throw new Bs("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return await fe(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:a});const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(i){if(await fe(this.storage,`${this.storageKey}-code-verifier`),P(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithPassword(t){try{let n;if("email"in t){const{email:i,password:o,options:a}=t;n=await A(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Ac})}else if("phone"in t){const{phone:i,password:o,options:a}=t;n=await A(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Ac})}else throw new Bs("You must provide either an email or phone number and a password");const{data:r,error:s}=n;if(s)return this._returnResult({data:{user:null,session:null},error:s});if(!r||!r.session||!r.user){const i=new jn;return this._returnResult({data:{user:null,session:null},error:i})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(P(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(t){var n,r,s,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;switch(n){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(t){var n,r,s,i,o,a,l,u,c,g,f;let v,w;if("message"in t)v=t.message,w=t.signature;else{const{chain:_,wallet:k,statement:p,options:d}=t;let m;if(pe())if(typeof k=="object")m=k;else{const U=window;if("ethereum"in U&&typeof U.ethereum=="object"&&"request"in U.ethereum&&typeof U.ethereum.request=="function")m=U.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof k!="object"||!(d!=null&&d.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");m=k}const S=new URL((n=d==null?void 0:d.url)!==null&&n!==void 0?n:window.location.href),E=await m.request({method:"eth_requestAccounts"}).then(U=>U).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!E||E.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const b=wf(E[0]);let C=(r=d==null?void 0:d.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!C){const U=await m.request({method:"eth_chainId"});C=fy(U)}const N={domain:S.host,address:b,statement:p,uri:S.href,version:"1",chainId:C,nonce:(s=d==null?void 0:d.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(o=(i=d==null?void 0:d.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(a=d==null?void 0:d.signInWithEthereum)===null||a===void 0?void 0:a.expirationTime,notBefore:(l=d==null?void 0:d.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(u=d==null?void 0:d.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(c=d==null?void 0:d.signInWithEthereum)===null||c===void 0?void 0:c.resources};v=my(N),w=await m.request({method:"personal_sign",params:[py(v),b]})}try{const{data:_,error:k}=await A(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:v,signature:w},!((g=t.options)===null||g===void 0)&&g.captchaToken?{gotrue_meta_security:{captcha_token:(f=t.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:tt});if(k)throw k;if(!_||!_.session||!_.user){const p=new jn;return this._returnResult({data:{user:null,session:null},error:p})}return _.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("SIGNED_IN",_.session)),this._returnResult({data:Object.assign({},_),error:k})}catch(_){if(P(_))return this._returnResult({data:{user:null,session:null},error:_});throw _}}async signInWithSolana(t){var n,r,s,i,o,a,l,u,c,g,f,v;let w,_;if("message"in t)w=t.message,_=t.signature;else{const{chain:k,wallet:p,statement:d,options:m}=t;let S;if(pe())if(typeof p=="object")S=p;else{const b=window;if("solana"in b&&typeof b.solana=="object"&&("signIn"in b.solana&&typeof b.solana.signIn=="function"||"signMessage"in b.solana&&typeof b.solana.signMessage=="function"))S=b.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof p!="object"||!(m!=null&&m.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");S=p}const E=new URL((n=m==null?void 0:m.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in S&&S.signIn){const b=await S.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},m==null?void 0:m.signInWithSolana),{version:"1",domain:E.host,uri:E.href}),d?{statement:d}:null));let C;if(Array.isArray(b)&&b[0]&&typeof b[0]=="object")C=b[0];else if(b&&typeof b=="object"&&"signedMessage"in b&&"signature"in b)C=b;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in C&&"signature"in C&&(typeof C.signedMessage=="string"||C.signedMessage instanceof Uint8Array)&&C.signature instanceof Uint8Array)w=typeof C.signedMessage=="string"?C.signedMessage:new TextDecoder().decode(C.signedMessage),_=C.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in S)||typeof S.signMessage!="function"||!("publicKey"in S)||typeof S!="object"||!S.publicKey||!("toBase58"in S.publicKey)||typeof S.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");w=[`${E.host} wants you to sign in with your Solana account:`,S.publicKey.toBase58(),...d?["",d,""]:[""],"Version: 1",`URI: ${E.href}`,`Issued At: ${(s=(r=m==null?void 0:m.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=m==null?void 0:m.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${m.signInWithSolana.notBefore}`]:[],...!((o=m==null?void 0:m.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${m.signInWithSolana.expirationTime}`]:[],...!((a=m==null?void 0:m.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${m.signInWithSolana.chainId}`]:[],...!((l=m==null?void 0:m.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${m.signInWithSolana.nonce}`]:[],...!((u=m==null?void 0:m.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${m.signInWithSolana.requestId}`]:[],...!((g=(c=m==null?void 0:m.signInWithSolana)===null||c===void 0?void 0:c.resources)===null||g===void 0)&&g.length?["Resources",...m.signInWithSolana.resources.map(C=>`- ${C}`)]:[]].join(`
`);const b=await S.signMessage(new TextEncoder().encode(w),"utf8");if(!b||!(b instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");_=b}}try{const{data:k,error:p}=await A(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:w,signature:fn(_)},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(v=t.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:tt});if(p)throw p;if(!k||!k.session||!k.user){const d=new jn;return this._returnResult({data:{user:null,session:null},error:d})}return k.session&&(await this._saveSession(k.session),await this._notifyAllSubscribers("SIGNED_IN",k.session)),this._returnResult({data:Object.assign({},k),error:p})}catch(k){if(P(k))return this._returnResult({data:{user:null,session:null},error:k});throw k}}async _exchangeCodeForSession(t){const n=await rn(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{if(!r&&this.flowType==="pkce")throw new $v;const{data:i,error:o}=await A(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:tt});if(await fe(this.storage,`${this.storageKey}-code-verifier`),o)throw o;if(!i||!i.session||!i.user){const a=new jn;return this._returnResult({data:{user:null,session:null,redirectType:null},error:a})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(await fe(this.storage,`${this.storageKey}-code-verifier`),P(i))return this._returnResult({data:{user:null,session:null,redirectType:null},error:i});throw i}}async signInWithIdToken(t){try{const{options:n,provider:r,token:s,access_token:i,nonce:o}=t,a=await A(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:tt}),{data:l,error:u}=a;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!l||!l.session||!l.user){const c=new jn;return this._returnResult({data:{user:null,session:null},error:c})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:l,error:u})}catch(n){if(P(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(t){var n,r,s,i,o;try{if("email"in t){const{email:a,options:l}=t;let u=null,c=null;this.flowType==="pkce"&&([u,c]=await Nn(this.storage,this.storageKey));const{error:g}=await A(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:c},redirectTo:l==null?void 0:l.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:g})}if("phone"in t){const{phone:a,options:l}=t,{data:u,error:c}=await A(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:c})}throw new Bs("You must provide either an email or phone number.")}catch(a){if(await fe(this.storage,`${this.storageKey}-code-verifier`),P(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async verifyOtp(t){var n,r;try{let s,i;"options"in t&&(s=(n=t.options)===null||n===void 0?void 0:n.redirectTo,i=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:a}=await A(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:tt});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,u=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(s){if(P(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithSSO(t){var n,r,s,i,o;try{let a=null,l=null;this.flowType==="pkce"&&([a,l]=await Nn(this.storage,this.storageKey));const u=await A(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:l}),headers:this.headers,xform:oy});return!((i=u.data)===null||i===void 0)&&i.url&&pe()&&!(!((o=t.options)===null||o===void 0)&&o.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(a){if(await fe(this.storage,`${this.storageKey}-code-verifier`),P(a))return this._returnResult({data:null,error:a});throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new Ae;const{error:s}=await A(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:s})})}catch(t){if(P(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:s,options:i}=t,{error:o}=await A(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}else if("phone"in t){const{phone:r,type:s,options:i}=t,{data:o,error:a}=await A(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a})}throw new Bs("You must provide either an email or phone number and a type")}catch(n){if(P(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await rn(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<zo:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.userStorage){const o=await rn(this.userStorage,this.storageKey+"-user");o!=null&&o.user?t.user=o.user:t.user=Bo()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};t.user=ny(t.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{session:null},error:i}):this._returnResult({data:{session:s},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const n=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return n.data.user&&(this.suppressGetSessionWarning=!0),n}async _getUser(t){try{return t?await A(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Ut}):await this._useSession(async n=>{var r,s,i;const{data:o,error:a}=n;if(a)throw a;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ae}:await A(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:Ut})})}catch(n){if(P(n))return Mo(n)&&(await this._removeSession(),await fe(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:s,error:i}=r;if(i)throw i;if(!s.session)throw new Ae;const o=s.session;let a=null,l=null;this.flowType==="pkce"&&t.email!=null&&([a,l]=await Nn(this.storage,this.storageKey));const{data:u,error:c}=await A(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:Ut});if(c)throw c;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),this._returnResult({data:{user:o.user},error:null})})}catch(r){if(await fe(this.storage,`${this.storageKey}-code-verifier`),P(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Ae;const n=Date.now()/1e3;let r=n,s=!0,i=null;const{payload:o}=Vs(t.access_token);if(o.exp&&(r=o.exp,s=r<=n),s){const{data:a,error:l}=await this._callRefreshToken(t.refresh_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:l}=await this._getUser(t.access_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});i={access_token:t.access_token,refresh_token:t.refresh_token,user:a.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return this._returnResult({data:{user:i.user,session:i},error:null})}catch(n){if(P(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:o,error:a}=n;if(a)throw a;t=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new Ae;const{data:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{user:null,session:null},error:i}):s?this._returnResult({data:{user:s.user,session:s},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(P(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(t,n){try{if(!pe())throw new Ws("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Ws(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new Tc("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Ws("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Tc("No code detected.");const{data:d,error:m}=await this._exchangeCodeForSession(t.code);if(m)throw m;const S=new URL(window.location.href);return S.searchParams.delete("code"),window.history.replaceState(window.history.state,"",S.toString()),{data:{session:d.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:a,expires_at:l,token_type:u}=t;if(!i||!a||!o||!u)throw new Ws("No session defined in URL");const c=Math.round(Date.now()/1e3),g=parseInt(a);let f=c+g;l&&(f=parseInt(l));const v=f-c;v*1e3<=In&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${v}s, should have been closer to ${g}s`);const w=f-g;c-w>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",w,f,c):c-w<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",w,f,c);const{data:_,error:k}=await this._getUser(i);if(k)throw k;const p={provider_token:r,provider_refresh_token:s,access_token:i,expires_in:g,expires_at:f,refresh_token:o,token_type:u,user:_.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:p,redirectType:t.type},error:null})}catch(r){if(P(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await rn(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i&&!Mo(i))return this._returnResult({error:i});const o=(r=s.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:a}=await this.admin.signOut(o,t);if(a&&!(Av(a)&&(a.status===404||a.status===401||a.status===403)||Mo(a)))return this._returnResult({error:a})}return t!=="others"&&(await this._removeSession(),await fe(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const n=Bv(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,s;try{const{data:{session:i},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await Nn(this.storage,this.storageKey,!0));try{return await A(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(await fe(this.storage,`${this.storageKey}-code-verifier`),P(i))return this._returnResult({data:null,error:i});throw i}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(n){if(P(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var n;try{const{data:r,error:s}=await this._useSession(async i=>{var o,a,l,u,c;const{data:g,error:f}=i;if(f)throw f;const v=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=t.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await A(this.fetch,"GET",v,{headers:this.headers,jwt:(c=(u=g.session)===null||u===void 0?void 0:u.access_token)!==null&&c!==void 0?c:void 0})});if(s)throw s;return pe()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),this._returnResult({data:{provider:t.provider,url:r==null?void 0:r.url},error:null})}catch(r){if(P(r))return this._returnResult({data:{provider:t.provider,url:null},error:r});throw r}}async linkIdentityIdToken(t){return await this._useSession(async n=>{var r;try{const{error:s,data:{session:i}}=n;if(s)throw s;const{options:o,provider:a,token:l,access_token:u,nonce:c}=t,g=await A(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=i==null?void 0:i.access_token)!==null&&r!==void 0?r:void 0,body:{provider:a,id_token:l,access_token:u,nonce:c,link_identity:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:tt}),{data:f,error:v}=g;return v?this._returnResult({data:{user:null,session:null},error:v}):!f||!f.session||!f.user?this._returnResult({data:{user:null,session:null},error:new jn}):(f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("USER_UPDATED",f.session)),this._returnResult({data:f,error:v}))}catch(s){if(await fe(this.storage,`${this.storageKey}-code-verifier`),P(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)throw o;return await A(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(P(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await qv(async s=>(s>0&&await Hv(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await A(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:tt})),(s,i)=>{const o=200*Math.pow(2,s);return i&&Fo(i)&&Date.now()+o-r<In})}catch(r){if(this._debug(n,"error",r),P(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),pe()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const s=await rn(this.storage,this.storageKey);if(s&&this.userStorage){let o=await rn(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:s.user},await $n(this.userStorage,this.storageKey+"-user",o)),s.user=(t=o==null?void 0:o.user)!==null&&t!==void 0?t:Bo()}else if(s&&!s.user&&!s.user){const o=await rn(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(s.user=o.user,await fe(this.storage,this.storageKey+"-user"),await $n(this.storage,this.storageKey,s)):s.user=Bo()}if(this._debug(r,"session from storage",s),!this._isValidSession(s)){this._debug(r,"session is not valid"),s!==null&&await this._removeSession();return}const i=((n=s.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<zo;if(this._debug(r,`session has${i?"":" not"} expired with margin of ${zo}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:o}=await this._callRefreshToken(s.refresh_token);o&&(console.error(o),Fo(o)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:a}=await this._getUser(s.access_token);!a&&(o!=null&&o.user)?(s.user=o.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(r,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(r,"error",s),console.error(s);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new Ae;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Zi;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new Ae;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={data:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(s,"error",i),P(i)){const o={data:null,error:i};return Fo(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,n,r=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(t,n)}catch(l){i.push(l)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await fe(this.storage,`${this.storageKey}-code-verifier`);const n=Object.assign({},t),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await $n(this.userStorage,this.storageKey+"-user",{user:n.user});const s=Object.assign({},n);delete s.user;const i=Rc(s);await $n(this.storage,this.storageKey,i)}else{const s=Rc(n);await $n(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await fe(this.storage,this.storageKey),await fe(this.storage,this.storageKey+"-code-verifier"),await fe(this.storage,this.storageKey+"-user"),this.userStorage&&await fe(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&pe()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),In);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t);const n=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t);const n=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,n&&clearTimeout(n)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-t)/In);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${In}ms, refresh threshold is ${Ha} ticks`),s<=Ha&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof yf)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!pe()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(t){this._debug("#visibilityChangedCallback","error",t)}},window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,o]=await Nn(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(a.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);s.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?this._returnResult({data:null,error:i}):await A(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(P(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)return this._returnResult({data:null,error:o});const a=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:l,error:u}=await A(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return u?this._returnResult({data:null,error:u}):(t.factorType==="totp"&&l.type==="totp"&&(!((s=l==null?void 0:l.totp)===null||s===void 0)&&s.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),this._returnResult({data:l,error:null}))})}catch(n){if(P(n))return this._returnResult({data:null,error:n});throw n}}async _verify(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return this._returnResult({data:null,error:i});const o=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?ky(t.webauthn.credential_response):xy(t.webauthn.credential_response)})}:{code:t.code}),{data:a,error:l}=await A(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:o,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return l?this._returnResult({data:null,error:l}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),this._returnResult({data:a,error:l}))})}catch(n){if(P(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return this._returnResult({data:null,error:i});const o=await A(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});if(o.error)return o;const{data:a}=o;if(a.type!=="webauthn")return{data:a,error:null};switch(a.webauthn.type){case"create":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:_y(a.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:Sy(a.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(P(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){var t;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const s={all:[],phone:[],totp:[],webauthn:[]};for(const i of(t=n==null?void 0:n.factors)!==null&&t!==void 0?t:[])s.all.push(i),i.status==="verified"&&s[i.factor_type].push(i);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(t){var n,r,s,i;if(t)try{const{payload:v}=Vs(t);let w=null;v.aal&&(w=v.aal);let _=w;const{data:{user:k},error:p}=await this.getUser(t);if(p)return this._returnResult({data:null,error:p});((r=(n=k==null?void 0:k.factors)===null||n===void 0?void 0:n.filter(S=>S.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(_="aal2");const m=v.amr||[];return{data:{currentLevel:w,nextLevel:_,currentAuthenticationMethods:m},error:null}}catch(v){if(P(v))return this._returnResult({data:null,error:v});throw v}const{data:{session:o},error:a}=await this.getSession();if(a)return this._returnResult({data:null,error:a});if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:l}=Vs(o.access_token);let u=null;l.aal&&(u=l.aal);let c=u;((i=(s=o.user.factors)===null||s===void 0?void 0:s.filter(v=>v.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(c="aal2");const f=l.amr||[];return{data:{currentLevel:u,nextLevel:c,currentAuthenticationMethods:f},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async n=>{const{data:{session:r},error:s}=n;return s?this._returnResult({data:null,error:s}):r?await A(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:r.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new Ae})})}catch(n){if(P(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(t,n){try{return await this._useSession(async r=>{const{data:{session:s},error:i}=r;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new Ae});const o=await A(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"approve"},xform:a=>({data:a,error:null})});return o.data&&o.data.redirect_url&&pe()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(r){if(P(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(t,n){try{return await this._useSession(async r=>{const{data:{session:s},error:i}=r;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new Ae});const o=await A(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"deny"},xform:a=>({data:a,error:null})});return o.data&&o.data.redirect_url&&pe()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(r){if(P(r))return this._returnResult({data:null,error:r});throw r}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;return r?this._returnResult({data:null,error:r}):n?await A(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new Ae})})}catch(t){if(P(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async n=>{const{data:{session:r},error:s}=n;return s?this._returnResult({data:null,error:s}):r?(await A(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Ae})})}catch(n){if(P(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(a=>a.kid===t);if(r)return r;const s=Date.now();if(r=this.jwks.keys.find(a=>a.kid===t),r&&this.jwks_cached_at+Rv>s)return r;const{data:i,error:o}=await A(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,r=i.keys.find(a=>a.kid===t),!r)?null:r}async getClaims(t,n={}){try{let r=t;if(!r){const{data:v,error:w}=await this.getSession();if(w||!v.session)return this._returnResult({data:null,error:w});r=v.session.access_token}const{header:s,payload:i,signature:o,raw:{header:a,payload:l}}=Vs(r);n!=null&&n.allowExpired||Zv(i.exp);const u=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!u){const{error:v}=await this.getUser(r);if(v)throw v;return{data:{claims:i,header:s,signature:o},error:null}}const c=ey(s.alg),g=await crypto.subtle.importKey("jwk",u,c,!0,["verify"]);if(!await crypto.subtle.verify(c,g,o,Mv(`${a}.${l}`)))throw new Ga("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(r){if(P(r))return this._returnResult({data:null,error:r});throw r}}}ds.nextInstanceID={};const Py=ds,Ay="2.95.3";let Rr="";typeof Deno<"u"?Rr="deno":typeof document<"u"?Rr="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Rr="react-native":Rr="node";const Iy={"X-Client-Info":`supabase-js-${Rr}/${Ay}`},$y={headers:Iy},Ly={schema:"public"},Dy={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Uy={};function hs(e){"@babel/helpers - typeof";return hs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hs(e)}function zy(e,t){if(hs(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(hs(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function My(e){var t=zy(e,"string");return hs(t)=="symbol"?t:t+""}function Fy(e,t,n){return(t=My(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Uc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function re(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Uc(Object(n),!0).forEach(function(r){Fy(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Uc(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}const By=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),Wy=()=>Headers,Vy=(e,t,n)=>{const r=By(n),s=Wy();return async(i,o)=>{var a;const l=(a=await t())!==null&&a!==void 0?a:e;let u=new s(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),r(i,re(re({},o),{},{headers:u}))}};function Hy(e){return e.endsWith("/")?e:e+"/"}function qy(e,t){var n,r;const{db:s,auth:i,realtime:o,global:a}=e,{db:l,auth:u,realtime:c,global:g}=t,f={db:re(re({},l),s),auth:re(re({},u),i),realtime:re(re({},c),o),storage:{},global:re(re(re({},g),a),{},{headers:re(re({},(n=g==null?void 0:g.headers)!==null&&n!==void 0?n:{}),(r=a==null?void 0:a.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return e.accessToken?f.accessToken=e.accessToken:delete f.accessToken,f}function Ky(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Hy(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var Gy=class extends Py{constructor(e){super(e)}},Jy=class{constructor(e,t,n){var r,s;this.supabaseUrl=e,this.supabaseKey=t;const i=Ky(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",i),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",i),this.storageUrl=new URL("storage/v1",i),this.functionsUrl=new URL("functions/v1",i);const o=`sb-${i.hostname.split(".")[0]}-auth-token`,a={db:Ly,realtime:Uy,auth:re(re({},Dy),{},{storageKey:o}),global:$y},l=qy(n??{},a);if(this.storageKey=(r=l.auth.storageKey)!==null&&r!==void 0?r:"",this.headers=(s=l.global.headers)!==null&&s!==void 0?s:{},l.accessToken)this.accessToken=l.accessToken,this.auth=new Proxy({},{get:(c,g)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(g)} is not possible`)}});else{var u;this.auth=this._initSupabaseAuthClient((u=l.auth)!==null&&u!==void 0?u:{},this.headers,l.global.fetch)}this.fetch=Vy(t,this._getAccessToken.bind(this),l.global.fetch),this.realtime=this._initRealtimeClient(re({headers:this.headers,accessToken:this._getAccessToken.bind(this)},l.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(c=>this.realtime.setAuth(c)).catch(c=>console.warn("Failed to set initial Realtime auth token:",c)),this.rest=new Ag(new URL("rest/v1",i).href,{headers:this.headers,schema:l.db.schema,fetch:this.fetch,timeout:l.db.timeout,urlLengthLimit:l.db.urlLengthLimit}),this.storage=new Tv(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),l.accessToken||this._listenForAuthEvents()}get functions(){return new bg(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,n)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e=this,t,n;if(e.accessToken)return await e.accessToken();const{data:r}=await e.auth.getSession();return(t=(n=r.session)===null||n===void 0?void 0:n.access_token)!==null&&t!==void 0?t:e.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:r,userStorage:s,storageKey:i,flowType:o,lock:a,debug:l,throwOnError:u},c,g){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Gy({url:this.authUrl.href,headers:re(re({},f),c),storageKey:i,autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:r,userStorage:s,flowType:o,lock:a,debug:l,throwOnError:u,fetch:g,hasCustomAuthorizationHeader:Object.keys(this.headers).some(v=>v.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new Qg(this.realtimeUrl.href,re(re({},e),{},{params:re(re({},{apikey:this.supabaseKey}),e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",t==null?void 0:t.access_token)})}_handleTokenChanged(e,t,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const Qy=(e,t,n)=>new Jy(e,t,n);function Yy(){if(typeof window<"u")return!1;const e=globalThis.process;if(!e)return!1;const t=e.version;if(t==null)return!1;const n=t.match(/^v(\d+)\./);return n?parseInt(n[1],10)<=18:!1}Yy()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Xy="https://nwgidlldkqbamkkvbcpv.supabase.co",Zy="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im53Z2lkbGxka3FiYW1ra3ZiY3B2Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzA3MjYyODUsImV4cCI6MjA4NjMwMjI4NX0.LHPTQXnPh6tuiNTUNy3Ql0eD29Q6vCj4kKEOou3SeCY",Pe=Qy(Xy,Zy),zc=[{id:"agenda",label:"Agenda"},{id:"clientes",label:"Clientes"},{id:"servicos",label:"Servios"},{id:"faturamento",label:"Faturamento"}],e0={pendente:"bg-amber-300/15 text-amber-200 border border-amber-300/40",confirmado:"bg-emerald-300/15 text-emerald-200 border border-emerald-300/40",concluido:"bg-red-300/15 text-red-200 border border-red-300/40",cancelado:"bg-gray-300/15 text-gray-200 border border-gray-300/40"},Vo={pendente:"Agendado",confirmado:"Confirmado",concluido:"Concludo",cancelado:"Cancelado"},Hs=new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}),Mc=()=>({nome_completo:"",telefone:"",endereco:"",observacoes:""}),Fc=()=>({nome:"",valor:"",duracao_minutos:"",ativo:!0}),Bc=e=>({cliente_id:"",servico_id:"",data:e,hora_inicio:"09:00",status:"pendente",endereco_atendimento:"",observacoes:"",usar_endereco_cliente:!0}),Ve=e=>{const t=e?new Date(e):new Date;return new Date(t.getTime()-t.getTimezoneOffset()*6e4).toISOString().slice(0,10)},Jn=e=>{const t=new Date(e);return new Date(t.getTime()-t.getTimezoneOffset()*6e4).toISOString().slice(11,16)},t0=e=>typeof e=="string"&&/^\d{4}-\d{2}-\d{2}$/.test(e)?new Date(`${e}T00:00:00`):new Date(e),qs=e=>new Intl.DateTimeFormat("pt-BR",{weekday:"short",day:"2-digit",month:"short"}).format(t0(e)),Ks=e=>new Intl.DateTimeFormat("pt-BR",{hour:"2-digit",minute:"2-digit"}).format(new Date(e)),Ho=(e,t)=>!e||!t?null:new Date(`${e}T${t}:00`).toISOString(),n0=e=>{const t=new Date(`${e}T00:00:00`),n=(t.getDay()+6)%7;return t.setDate(t.getDate()-n),t},r0=8*60,s0=20*60,i0=30,Ai=e=>{if(!e)return null;const[t,n]=e.split(":").map(Number);return!Number.isFinite(t)||!Number.isFinite(n)?null:t*60+n},Ja=e=>{const t=Math.max(0,e),n=String(Math.floor(t/60)).padStart(2,"0"),r=String(t%60).padStart(2,"0");return`${n}:${r}`},Qa=(e,t)=>{var n,r;return((n=e==null?void 0:e.servico)==null?void 0:n.duracao_minutos)??((r=t.find(s=>s.id===(e==null?void 0:e.servico_id)))==null?void 0:r.duracao_minutos)??60},Sf=(e,t)=>{const n=Ai(Jn(e.data_hora_inicio));let r=Ai(Jn(e.data_hora_fim));if(!Number.isFinite(r)||r===n){const s=Number(Qa(e,t))||60;r=(n??0)+s}return{start:n??0,end:r??0}},Wc=(e,t)=>e.filter(n=>n.status!=="cancelado").map(n=>Sf(n,t)).sort((n,r)=>n.start-r.start).map(n=>`${Ja(n.start)} - ${Ja(n.end)}`),Vc=(e,t,n,r)=>{const s=Number(e)||0,i=t.filter(u=>u.id!==n&&u.status!=="cancelado").map(u=>Sf(u,r)),o=r0,a=s0,l=[];if(!s)return[];for(let u=o;u+s<=a;u+=i0){const c=u+s;i.some(f=>u<f.end&&c>f.start)||l.push(Ja(u))}return l},Hc=e=>{if(!e)return 0;const t=Number((e==null?void 0:e.pacote_total)??(e==null?void 0:e.pacote_quantidade)??(e==null?void 0:e.quantidade_pacote)??(e==null?void 0:e.qtd_pacote));if(Number.isFinite(t)&&t>1)return t;const n=String(e.nome||"").toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"");if(!n)return 0;const r=/(\d+)\s*(maos?|pes?)/g;let s=r.exec(n),i=0;for(;s;)i+=Number(s[1]||0),s=r.exec(n);return Number.isFinite(i)&&i>1?i:0};function o0(){const[e,t]=F.useState("agenda"),[n,r]=F.useState(!1),[s,i]=F.useState(!0),[o,a]=F.useState(""),l=Ve(new Date),[u,c]=F.useState(l),[g,f]=F.useState("dia"),[v,w]=F.useState(l),[_,k]=F.useState([]),[p,d]=F.useState([]),[m,S]=F.useState([]),[E,b]=F.useState(""),[C,N]=F.useState(!1),[U,z]=F.useState(null),[te,Fe]=F.useState(Mc()),[en,Nt]=F.useState(!1),[pr,xn]=F.useState(null),[Be,j]=F.useState(Fc()),[D,$]=F.useState(!1),[M,ne]=F.useState(null),[B,Ye]=F.useState(Bc(l)),[mr,Xe]=F.useState({}),[En,eo]=F.useState({}),[kf,to]=F.useState({}),Kl=F.useRef(null),[no,xf]=F.useState(()=>{const y=new Date;return y.setDate(y.getDate()-29),Ve(y)}),[ro,Ef]=F.useState(l),Ot=async()=>{i(!0),a("");const[y,T,L]=await Promise.all([Pe.from("clientes").select("*").order("nome_completo",{ascending:!0}),Pe.from("servicos").select("*").order("nome",{ascending:!0}),Pe.from("agendamentos").select("*, cliente:clientes(*), servico:servicos(*)").order("data_hora_inicio",{ascending:!0})]);if(y.error||T.error||L.error){a("No foi possvel carregar os dados do Supabase."),i(!1);return}k(y.data||[]),d(T.data||[]),S(L.data||[]),i(!1)};F.useEffect(()=>{Ot()},[]),F.useEffect(()=>{g==="semana"&&w(u)},[g,u]);const Gl=F.useMemo(()=>g==="semana"?m.filter(y=>Ve(y.data_hora_inicio)===v):m.filter(y=>Ve(y.data_hora_inicio)===u),[m,g,u,v]),Jl=F.useMemo(()=>{const y=new Map;return Gl.forEach(T=>{const L=Ve(T.data_hora_inicio);y.has(L)||y.set(L,[]),y.get(L).push(T)}),Array.from(y.entries()).sort(([T],[L])=>T>L?1:-1)},[Gl]),bf=F.useMemo(()=>{const y=n0(u);return Array.from({length:7}).map((T,L)=>{const O=new Date(y);return O.setDate(y.getDate()+L),Ve(O)})},[u]),Tf=F.useMemo(()=>{const y=E.toLowerCase();return _.filter(T=>T.nome_completo.toLowerCase().includes(y)||T.telefone.toLowerCase().includes(y))},[_,E]),bn=F.useMemo(()=>m.filter(y=>{if(y.status!=="concluido")return!1;const T=Ve(y.data_hora_inicio);return T>=no&&T<=ro}),[m,no,ro]),Ql=bn.reduce((y,T)=>{var O,q;const L=((O=T.servico)==null?void 0:O.valor)??((q=p.find(Re=>Re.id===T.servico_id))==null?void 0:q.valor)??0;return y+Number(L||0)},0),Cf=bn.length>0?Ql/bn.length:0,so=F.useMemo(()=>{const y=new Map;return p.forEach(T=>y.set(T.id,T)),y},[p]),jf=F.useMemo(()=>{const y=new Map;return m.forEach(T=>{if(T.status!=="concluido"||!T.cliente_id||!T.servico_id)return;const L=T.servico??so.get(T.servico_id);if(!Hc(L))return;const q=`${T.cliente_id}:${T.servico_id}`;y.set(q,(y.get(q)||0)+1)}),y},[m,so]),io=()=>Fe(Mc()),Yl=()=>j(Fc()),oo=()=>Ye(Bc(u)),Nf=()=>{io(),z(null),N(!0)},Of=y=>{z(y),Fe({nome_completo:y.nome_completo||"",telefone:y.telefone||"",endereco:y.endereco||"",observacoes:y.observacoes||""}),N(!0)},Rf=async()=>{if(!te.nome_completo.trim()||!te.telefone.trim()){a("Preencha nome e telefone da cliente.");return}const y={nome_completo:te.nome_completo.trim(),telefone:te.telefone.trim(),endereco:te.endereco.trim()||null,observacoes:te.observacoes.trim()||null};if((U?await Pe.from("clientes").update(y).eq("id",U.id):await Pe.from("clientes").insert(y)).error){a("No foi possvel salvar a cliente.");return}N(!1),io(),await Ot()},Pf=async()=>{if(!U||!window.confirm(`Tem certeza que deseja excluir a cliente "${U.nome_completo}"?`))return;const T=await Pe.from("clientes").delete().eq("id",U.id);if(T.error){T.error.code==="23503"?a("No foi possvel excluir: a cliente possui agendamentos vinculados."):a("No foi possvel excluir a cliente.");return}N(!1),z(null),io(),await Ot()},Af=()=>{Yl(),xn(null),Nt(!0)},If=y=>{xn(y),j({nome:y.nome||"",valor:y.valor??"",duracao_minutos:y.duracao_minutos??"",ativo:y.ativo??!0}),Nt(!0)},$f=async()=>{if(!Be.nome.trim()){a("Informe o nome do servio.");return}const y=Number(String(Be.valor).replace(",",".")),T=Number(Be.duracao_minutos);if(!y||!T){a("Informe valor e durao vlidos.");return}const L={nome:Be.nome.trim(),valor:y,duracao_minutos:T,ativo:!!Be.ativo};if((pr?await Pe.from("servicos").update(L).eq("id",pr.id):await Pe.from("servicos").insert(L)).error){a("No foi possvel salvar o servio.");return}Nt(!1),Yl(),await Ot()},Lf=async y=>{if((await Pe.from("servicos").update({ativo:!y.ativo}).eq("id",y.id)).error){a("No foi possvel atualizar o servio.");return}await Ot()},Df=()=>{oo(),ne(null),$(!0)},Uf=y=>{ne(y),Ye({cliente_id:y.cliente_id||"",servico_id:y.servico_id||"",data:Ve(y.data_hora_inicio),hora_inicio:Jn(y.data_hora_inicio),status:y.status||"pendente",endereco_atendimento:y.endereco_atendimento||"",observacoes:y.observacoes||"",usar_endereco_cliente:!1}),$(!0)},Rt=(y,T)=>{Ye(L=>{const O={...L,[y]:T};if(y==="cliente_id"&&O.usar_endereco_cliente){const q=_.find(Re=>Re.id===T);O.endereco_atendimento=(q==null?void 0:q.endereco)||""}if(y==="usar_endereco_cliente"&&T){const q=_.find(Re=>Re.id===O.cliente_id);O.endereco_atendimento=(q==null?void 0:q.endereco)||""}return O})},zf=F.useMemo(()=>{const y=p.find(O=>O.id===B.servico_id);if(!y||!B.data||!B.hora_inicio)return"";const T=new Date(`${B.data}T${B.hora_inicio}:00`),L=new Date(T.getTime()+y.duracao_minutos*6e4);return Ks(L)},[B,p]),Mf=async()=>{if(!B.cliente_id||!B.servico_id){a("Selecione cliente e servio.");return}if(!B.data||!B.hora_inicio){a("Informe data e hora de incio.");return}if(!B.endereco_atendimento.trim()){a("Informe o endereo do atendimento.");return}const y=p.find(We=>We.id===B.servico_id),T=M?Ve(M.data_hora_inicio):null,L=M?Jn(M.data_hora_inicio):null,O=M&&(T!==B.data||L!==B.hora_inicio),q=Ho(B.data,B.hora_inicio),Re=y?new Date(new Date(`${B.data}T${B.hora_inicio}:00`).getTime()+y.duracao_minutos*6e4).toISOString():Ho(B.data,B.hora_inicio),Ze={cliente_id:B.cliente_id,servico_id:B.servico_id,data_hora_inicio:q,data_hora_fim:Re,endereco_atendimento:B.endereco_atendimento.trim(),status:B.status,observacoes:B.observacoes.trim()||null};if((M?await Pe.from("agendamentos").update(Ze).eq("id",M.id):await Pe.from("agendamentos").insert(Ze)).error){a("No foi possvel salvar o agendamento.");return}M&&O&&(to(We=>({...We,[M.id]:!0})),eo(We=>({...We,[M.id]:!1}))),$(!1),oo(),await Ot()},Ff=async()=>{if(!M||!window.confirm("Tem certeza que deseja excluir este agendamento?"))return;if((await Pe.from("agendamentos").delete().eq("id",M.id)).error){a("No foi possvel excluir o agendamento.");return}Xe(L=>{const O={...L};return delete O[M.id],O}),eo(L=>{const O={...L};return delete O[M.id],O}),to(L=>{const O={...L};return delete O[M.id],O}),$(!1),ne(null),oo(),await Ot()},Bf=p.filter(y=>y.ativo),Xl=y=>{const T=Kl.current;if(!T)return;const L=Math.max(220,Math.floor(T.clientWidth*.8));T.scrollBy({left:y*L,behavior:"smooth"})},Wf=(y,T)=>{Xe(L=>({...L,[y]:T}))},Vf=async(y,T)=>{const L=Jn(y.data_hora_inicio);if(!T||T===L)return;const O=Ve(y.data_hora_inicio),q=Number(Qa(y,p))||60,Re=m.filter(gt=>Ve(gt.data_hora_inicio)===O);if(!Vc(q,Re,y.id,p).includes(T)){a("Horrio indisponvel para essa durao.");return}const gr=Ho(O,T),We=new Date(new Date(`${O}T${T}:00`).getTime()+q*6e4).toISOString();if((await Pe.from("agendamentos").update({data_hora_inicio:gr,data_hora_fim:We}).eq("id",y.id)).error){a("No foi possvel trocar o horrio.");return}eo(gt=>({...gt,[y.id]:!0})),to(gt=>({...gt,[y.id]:!1})),Xe(gt=>{const tn={...gt};return delete tn[y.id],tn}),await Ot()};return h.jsxs("div",{className:"min-h-screen",children:[h.jsxs("div",{className:"relative overflow-hidden",children:[h.jsx("div",{className:"pointer-events-none absolute -top-24 left-1/2 h-72 w-72 -translate-x-1/2 rounded-full bg-sky-400/20 blur-3xl"}),h.jsx("div",{className:"pointer-events-none absolute right-0 top-40 h-64 w-64 rounded-full bg-emerald-400/10 blur-3xl"}),h.jsx("div",{className:"pointer-events-none absolute bottom-0 left-0 h-72 w-72 rounded-full bg-rose-400/10 blur-3xl"}),h.jsxs("div",{className:"mx-auto flex min-h-screen w-full max-w-5xl justify-center gap-6 px-4 py-6 md:px-8",children:[h.jsx("aside",{className:"hidden w-64 flex-col gap-6 md:flex",children:h.jsx("nav",{className:"glass-panel rounded-3xl p-3",children:zc.map(y=>h.jsx("button",{type:"button",onClick:()=>t(y.id),className:`flex w-full items-center justify-between rounded-2xl px-4 py-3 text-left text-sm font-semibold transition ${e===y.id?"bg-white/20 text-white shadow-glow":"text-white/70 hover:bg-white/10 hover:text-white"}`,children:y.label},y.id))})}),h.jsxs("div",{className:"w-full max-w-4xl flex flex-col gap-6",children:[h.jsxs("header",{className:"glass-panel flex items-center justify-between gap-4 rounded-3xl px-4 py-4 md:px-6",children:[h.jsxs("div",{children:[h.jsx("p",{className:"label",children:"Bem-vinda"}),h.jsx("h2",{className:"text-lg font-semibold md:text-2xl",children:" Aline"})]}),h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("button",{type:"button",className:"btn-outline md:hidden",onClick:()=>r(!0),children:"Menu"}),h.jsx("button",{type:"button",className:"btn-primary",onClick:Df,children:"Novo agendamento"})]})]}),o?h.jsx("div",{className:"glass-panel rounded-2xl border border-rose-400/40 bg-rose-500/10 px-4 py-3 text-sm text-rose-100",children:o}):null,s?h.jsx("div",{className:"glass-panel rounded-2xl px-6 py-12 text-center text-white/60",children:"Carregando dados..."}):null,!s&&e==="agenda"?h.jsxs("section",{className:"space-y-6",children:[h.jsx("div",{className:"glass-card rounded-3xl p-4 md:p-6",children:h.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-end md:justify-between",children:[h.jsxs("div",{children:[h.jsx("p",{className:"label",children:"Agenda"}),h.jsxs("h3",{className:"text-xl font-semibold",children:["Calendrio ",g]})]}),h.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[h.jsx("button",{type:"button",onClick:()=>f("dia"),className:`btn-outline ${g==="dia"?"bg-white/20":""}`,children:"Dia"}),h.jsx("button",{type:"button",onClick:()=>f("semana"),className:`btn-outline ${g==="semana"?"bg-white/20":""}`,children:"Semana"}),h.jsx("input",{type:"date",className:"input min-w-[160px]",value:u,onChange:y=>c(y.target.value)})]})]})}),g==="semana"?h.jsxs("div",{className:"glass-panel rounded-3xl p-4 md:p-6",children:[h.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:[h.jsxs("div",{children:[h.jsx("h4",{className:"text-lg font-semibold",children:"Viso rpida da semana"}),h.jsx("span",{className:"text-xs text-white/60",children:"Arraste para o lado para ver todos os dias."})]}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("button",{type:"button",className:"btn-outline",onClick:()=>Xl(-1),children:""}),h.jsx("button",{type:"button",className:"btn-outline",onClick:()=>Xl(1),children:""})]})]}),h.jsx("div",{ref:Kl,className:"mt-4 flex gap-3 overflow-x-auto pb-2 pt-1 snap-x snap-mandatory cursor-grab active:cursor-grabbing",children:bf.map(y=>{const T=m.filter(q=>Ve(q.data_hora_inicio)===y),L=Wc(T,p),O=v===y;return h.jsxs("button",{type:"button",onClick:()=>{c(y),w(y)},className:`glass-card min-w-[220px] snap-start rounded-2xl p-4 text-left transition ${O?"border border-sky-300/50 bg-white/15":""}`,children:[h.jsx("p",{className:"text-sm font-semibold",children:qs(y)}),h.jsxs("p",{className:"text-xs text-white/50",children:[T.length," ocupados"]}),h.jsx("div",{className:"mt-3 flex flex-wrap gap-2",children:L.length===0?h.jsx("span",{className:"text-xs text-white/40",children:"Livre"}):L.map(q=>h.jsx("span",{className:"rounded-full border border-white/10 bg-white/10 px-3 py-1 text-[11px] text-white/70",children:q},`${y}-${q}`))})]},y)})})]}):null,h.jsxs("div",{className:"space-y-4",children:[Jl.length===0?h.jsx("div",{className:"glass-panel rounded-2xl px-6 py-8 text-center text-white/60",children:g==="semana"?"Nenhum agendamento para o dia selecionado.":"Nenhum agendamento neste perodo."}):null,Jl.map(([y,T])=>{const L=Wc(T,p);return h.jsxs("div",{className:"glass-panel rounded-3xl p-4 md:p-6",children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsx("h4",{className:"text-lg font-semibold",children:qs(y)}),h.jsxs("span",{className:"text-xs text-white/60",children:[T.length," atendimentos"]})]}),h.jsx("div",{className:"mt-3 flex flex-wrap gap-2",children:L.length===0?h.jsx("span",{className:"text-xs text-white/50",children:"Sem horrios ocupados."}):L.map(O=>h.jsx("span",{className:"rounded-full border border-white/10 bg-white/10 px-3 py-1 text-[11px] text-white/70",children:O},`${y}-${O}`))}),h.jsx("div",{className:"mt-4 space-y-3",children:T.map(O=>{var tu,nu,ru,su;const q=Qa(O,p),Re=O.servico??so.get(O.servico_id),Ze=Hc(Re),gr=Ze&&O.cliente_id&&O.servico_id?`${O.cliente_id}:${O.servico_id}`:"",We=gr&&jf.get(gr)||0,ao=We>0?(We-1)%Ze+1:0,gt=Ze>0&&We>0&&We%Ze===0,tn=Vc(q,T,O.id,p),vr=Jn(O.data_hora_inicio),ws=mr[O.id]||vr,Zl=(tn.includes(vr)?tn:[vr,...tn]).filter(Boolean).sort((ct,_s)=>Ai(ct)-Ai(_s)),lo=O.status==="cancelado",eu=!!En[O.id],Hf=!!kf[O.id],qf=ws&&ws!==vr&&!lo&&!eu,Kf=tn.some(ct=>ct!==vr);return h.jsxs("div",{className:"glass-card flex flex-col gap-4 rounded-2xl px-4 py-4 md:flex-row md:items-center md:justify-between",children:[h.jsxs("div",{children:[h.jsxs("p",{className:"text-sm text-white/60",children:[Ks(O.data_hora_inicio)," "," ",((tu=O.servico)==null?void 0:tu.nome)||"Servio"]}),h.jsx("p",{className:"text-base font-semibold",children:((nu=O.cliente)==null?void 0:nu.nome_completo)||"Cliente"}),h.jsx("p",{className:"text-xs text-white/50",children:O.endereco_atendimento}),Ze>0?h.jsxs("div",{className:"mt-2 space-y-1",children:[h.jsxs("p",{className:"text-[11px] uppercase tracking-[0.12em] text-white/55",children:["Pacote ",ao,"/",Ze]}),h.jsx("div",{className:"flex flex-wrap gap-2",children:Array.from({length:Ze}).map((ct,_s)=>{const iu=_s<ao;return h.jsx("span",{className:`flex h-6 w-6 items-center justify-center rounded-md border text-xs font-bold ${iu?"border-emerald-300/70 bg-emerald-300/20 text-emerald-100":"border-white/20 bg-white/5 text-white/30"}`,children:iu?"":""},`${O.id}-pacote-${_s}`)})}),gt?h.jsx("p",{className:"text-[11px] text-emerald-200/80",children:"Pacote concludo."}):h.jsx("p",{className:"text-[11px] text-white/40",children:"O tick marca quando o atendimento fica concludo."})]}):null]}),h.jsxs("div",{className:"flex flex-col gap-3 md:items-end",children:[h.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[h.jsx("span",{className:`badge ${e0[O.status]}`,children:Vo[O.status]}),(ru=O.cliente)!=null&&ru.telefone?h.jsx("a",{className:"btn-success",href:`https://wa.me/${O.cliente.telefone.replace(/\D/g,"")}?text=${encodeURIComponent(`Ol ${((su=O.cliente)==null?void 0:su.nome_completo)||""} podemos confirmar nosso horrio ${qs(O.data_hora_inicio)} - ${Ks(O.data_hora_inicio)}`)}`,target:"_blank",rel:"noreferrer",children:"Confirmar horrio"}):h.jsx("button",{type:"button",className:"btn-success",disabled:!0,children:"Confirmar horrio"}),h.jsx("button",{type:"button",className:"btn-outline",disabled:Hf,onClick:()=>Uf(O),children:"Editar"})]}),h.jsxs("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-center",children:[h.jsx("span",{className:"text-xs text-white/60",children:"Trocar horrio"}),lo?h.jsx("span",{className:"text-xs text-white/40",children:"Agendamento cancelado"}):Zl.length===0?h.jsx("span",{className:"text-xs text-white/40",children:"Sem horrios disponveis"}):h.jsxs("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-center",children:[h.jsx("select",{className:"input sm:w-36",value:ws,disabled:lo||eu,onChange:ct=>Wf(O.id,ct.target.value),children:Zl.map(ct=>h.jsx("option",{value:ct,children:ct},ct))}),Kf?null:h.jsx("span",{className:"text-xs text-white/40",children:"Sem outros horrios"}),h.jsx("button",{type:"button",className:"btn-outline",disabled:!qf,onClick:()=>Vf(O,ws),children:"Salvar horrio"})]})]})]})]},O.id)})})]},y)})]})]}):null,!s&&e==="clientes"?h.jsxs("section",{className:"space-y-6",children:[h.jsx("div",{className:"glass-card rounded-3xl p-4 md:p-6",children:h.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-end md:justify-between",children:[h.jsxs("div",{children:[h.jsx("p",{className:"label",children:"Clientes"}),h.jsx("h3",{className:"text-xl font-semibold",children:"Cadastro inteligente"})]}),h.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[h.jsx("input",{className:"input min-w-[200px]",placeholder:"Buscar por nome ou telefone",value:E,onChange:y=>b(y.target.value)}),h.jsx("button",{type:"button",className:"btn-primary",onClick:Nf,children:"Nova cliente"})]})]})}),h.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:Tf.map(y=>h.jsxs("div",{className:"glass-panel rounded-3xl p-5",children:[h.jsxs("div",{className:"flex items-start justify-between gap-3",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-lg font-semibold",children:y.nome_completo}),h.jsx("p",{className:"text-sm text-white/60",children:y.telefone}),y.endereco?h.jsx("p",{className:"mt-2 text-xs text-white/50",children:y.endereco}):null]}),h.jsx("button",{type:"button",className:"btn-outline",onClick:()=>Of(y),children:"Editar"})]}),h.jsxs("div",{className:"mt-4 flex flex-wrap gap-2",children:[h.jsx("a",{className:"btn-ghost",href:`https://wa.me/${y.telefone.replace(/\D/g,"")}`,target:"_blank",rel:"noreferrer",children:"WhatsApp"}),y.observacoes?h.jsx("span",{className:"text-xs text-white/50",children:y.observacoes}):null]})]},y.id))})]}):null,!s&&e==="servicos"?h.jsxs("section",{className:"space-y-6",children:[h.jsx("div",{className:"glass-card rounded-3xl p-4 md:p-6",children:h.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-end md:justify-between",children:[h.jsxs("div",{children:[h.jsx("p",{className:"label",children:"Servios"}),h.jsx("h3",{className:"text-xl font-semibold",children:"Catlogo de procedimentos"})]}),h.jsx("button",{type:"button",className:"btn-primary",onClick:Af,children:"Novo servio"})]})}),h.jsx("div",{className:"space-y-3",children:p.map(y=>h.jsx("div",{className:"glass-panel rounded-3xl p-5",children:h.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-lg font-semibold",children:y.nome}),h.jsxs("p",{className:"text-sm text-white/60",children:[y.duracao_minutos," min  ",Hs.format(y.valor)]})]}),h.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[h.jsx("span",{className:`badge ${y.ativo?"bg-emerald-300/15 text-emerald-200":"bg-white/10 text-white/60"}`,children:y.ativo?"Ativo":"Inativo"}),h.jsx("button",{type:"button",className:"btn-outline",onClick:()=>Lf(y),children:y.ativo?"Desativar":"Ativar"}),h.jsx("button",{type:"button",className:"btn-outline",onClick:()=>If(y),children:"Editar"})]})]})},y.id))})]}):null,!s&&e==="faturamento"?h.jsxs("section",{className:"space-y-6",children:[h.jsx("div",{className:"glass-card rounded-3xl p-4 md:p-6",children:h.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-end md:justify-between",children:[h.jsxs("div",{children:[h.jsx("p",{className:"label",children:"Faturamento"}),h.jsx("h3",{className:"text-xl font-semibold",children:"Resumo financeiro"})]}),h.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[h.jsx("input",{type:"date",className:"input min-w-[140px]",value:no,onChange:y=>xf(y.target.value)}),h.jsx("input",{type:"date",className:"input min-w-[140px]",value:ro,onChange:y=>Ef(y.target.value)})]})]})}),h.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[h.jsxs("div",{className:"glass-panel rounded-3xl p-5",children:[h.jsx("p",{className:"label",children:"Receita"}),h.jsx("p",{className:"mt-2 text-2xl font-semibold",children:Hs.format(Ql)}),h.jsx("p",{className:"mt-2 text-xs text-white/60",children:"Somente atendimentos concludos."})]}),h.jsxs("div",{className:"glass-panel rounded-3xl p-5",children:[h.jsx("p",{className:"label",children:"Atendimentos"}),h.jsx("p",{className:"mt-2 text-2xl font-semibold",children:bn.length}),h.jsx("p",{className:"mt-2 text-xs text-white/60",children:"No perodo selecionado."})]}),h.jsxs("div",{className:"glass-panel rounded-3xl p-5",children:[h.jsx("p",{className:"label",children:"Ticket mdio"}),h.jsx("p",{className:"mt-2 text-2xl font-semibold",children:Hs.format(Cf)}),h.jsx("p",{className:"mt-2 text-xs text-white/60",children:"Receita mdia por atendimento."})]})]}),h.jsxs("div",{className:"glass-panel rounded-3xl p-5",children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsx("h4",{className:"text-lg font-semibold",children:"Histrico"}),h.jsxs("span",{className:"text-xs text-white/60",children:[bn.length," registros"]})]}),h.jsx("div",{className:"mt-4 space-y-3",children:bn.map(y=>{var T,L,O,q;return h.jsxs("div",{className:"glass-card flex flex-col gap-2 rounded-2xl px-4 py-3 md:flex-row md:items-center md:justify-between",children:[h.jsxs("div",{children:[h.jsxs("p",{className:"text-sm text-white/60",children:[qs(y.data_hora_inicio),"  ",Ks(y.data_hora_inicio)]}),h.jsxs("p",{className:"text-base font-semibold",children:[((T=y.cliente)==null?void 0:T.nome_completo)||"Cliente"," "," ",((L=y.servico)==null?void 0:L.nome)||"Servio"]})]}),h.jsx("p",{className:"text-base font-semibold text-emerald-200",children:Hs.format(((O=y.servico)==null?void 0:O.valor)??((q=p.find(Re=>Re.id===y.servico_id))==null?void 0:q.valor)??0)})]},y.id)})})]})]}):null]})]})]}),n?h.jsxs("div",{className:"fixed inset-0 z-50 flex md:hidden",children:[h.jsx("div",{className:"absolute inset-0 bg-slate-950/70 backdrop-blur-sm",onClick:()=>r(!1),role:"button",tabIndex:0}),h.jsxs("div",{className:"relative z-10 h-full w-72 space-y-6 bg-slate-950/90 p-6 backdrop-blur-2xl",children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx("p",{className:"label",children:"Menu"}),h.jsx("p",{className:"text-lg font-semibold",children:"Agenda Manicure"})]}),h.jsx("button",{type:"button",className:"btn-ghost",onClick:()=>r(!1),children:"Fechar"})]}),h.jsx("nav",{className:"space-y-2",children:zc.map(y=>h.jsx("button",{type:"button",onClick:()=>{t(y.id),r(!1)},className:`flex w-full items-center justify-between rounded-2xl px-4 py-3 text-left text-sm font-semibold transition ${e===y.id?"bg-white/20 text-white shadow-glow":"text-white/70 hover:bg-white/10 hover:text-white"}`,children:y.label},y.id))})]})]}):null,h.jsx(Lo,{open:C,title:U?"Editar cliente":"Nova cliente",onClose:()=>N(!1),footer:h.jsxs("div",{className:"flex w-full items-center justify-between gap-3",children:[U?h.jsx("button",{type:"button",className:"btn border border-red-300/60 text-red-200 hover:bg-red-300/10",onClick:Pf,children:"Excluir cliente"}):h.jsx("span",{}),h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("button",{type:"button",className:"btn-outline",onClick:()=>N(!1),children:"Cancelar"}),h.jsx("button",{type:"button",className:"btn-primary",onClick:Rf,children:"Salvar"})]})]}),children:h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"label",children:"Nome completo"}),h.jsx("input",{className:"input",value:te.nome_completo,onChange:y=>Fe(T=>({...T,nome_completo:y.target.value})),placeholder:"Digite o nome da cliente"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"label",children:"WhatsApp"}),h.jsx("input",{className:"input",value:te.telefone,onChange:y=>Fe(T=>({...T,telefone:y.target.value})),placeholder:"(11) 99999-9999"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"label",children:"Endereo (opcional)"}),h.jsx("input",{className:"input",value:te.endereco,onChange:y=>Fe(T=>({...T,endereco:y.target.value})),placeholder:"Rua, nmero, bairro"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"label",children:"Observaes"}),h.jsx("textarea",{className:"input min-h-[90px]",value:te.observacoes,onChange:y=>Fe(T=>({...T,observacoes:y.target.value})),placeholder:"Preferncias, alergias ou avisos"})]})]})}),h.jsx(Lo,{open:en,title:pr?"Editar servio":"Novo servio",onClose:()=>Nt(!1),footer:h.jsxs(h.Fragment,{children:[h.jsx("button",{type:"button",className:"btn-outline",onClick:()=>Nt(!1),children:"Cancelar"}),h.jsx("button",{type:"button",className:"btn-primary",onClick:$f,children:"Salvar"})]}),children:h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"label",children:"Nome do servio"}),h.jsx("input",{className:"input",value:Be.nome,onChange:y=>j(T=>({...T,nome:y.target.value})),placeholder:"Spa dos ps, esmaltao"})]}),h.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[h.jsxs("div",{children:[h.jsx("label",{className:"label",children:"Valor"}),h.jsx("input",{className:"input",value:Be.valor,onChange:y=>j(T=>({...T,valor:y.target.value})),placeholder:"120"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"label",children:"Durao (min)"}),h.jsx("input",{className:"input",value:Be.duracao_minutos,onChange:y=>j(T=>({...T,duracao_minutos:y.target.value})),placeholder:"90"})]})]})]})}),h.jsx(Lo,{open:D,title:M?"Editar agendamento":"Novo agendamento",onClose:()=>$(!1),footer:h.jsxs("div",{className:"flex w-full items-center justify-between gap-3",children:[M?h.jsx("button",{type:"button",className:"btn border border-red-300/60 text-red-200 hover:bg-red-300/10",onClick:Ff,children:"Excluir agendamento"}):h.jsx("span",{}),h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("button",{type:"button",className:"btn-outline",onClick:()=>$(!1),children:"Cancelar"}),h.jsx("button",{type:"button",className:"btn-primary",onClick:Mf,children:"Salvar"})]})]}),children:h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"label",children:"Cliente"}),h.jsxs("select",{className:"input",value:B.cliente_id,onChange:y=>Rt("cliente_id",y.target.value),children:[h.jsx("option",{value:"",children:"Selecione a cliente"}),_.map(y=>h.jsx("option",{value:y.id,children:y.nome_completo},y.id))]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"label",children:"Servio"}),h.jsxs("select",{className:"input",value:B.servico_id,onChange:y=>Rt("servico_id",y.target.value),children:[h.jsx("option",{value:"",children:"Selecione o servio"}),Bf.map(y=>h.jsx("option",{value:y.id,children:y.nome},y.id))]})]}),h.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[h.jsxs("div",{children:[h.jsx("label",{className:"label",children:"Data"}),h.jsx("input",{type:"date",className:"input",value:B.data,onChange:y=>Rt("data",y.target.value)})]}),h.jsxs("div",{children:[h.jsx("label",{className:"label",children:"Hora incio"}),h.jsx("input",{type:"time",className:"input",value:B.hora_inicio,onChange:y=>Rt("hora_inicio",y.target.value)})]})]}),h.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[h.jsxs("div",{children:[h.jsx("label",{className:"label",children:"Status"}),h.jsx("select",{className:"input",value:B.status,onChange:y=>Rt("status",y.target.value),children:Object.keys(Vo).map(y=>h.jsx("option",{value:y,children:Vo[y]},y))})]}),h.jsxs("div",{children:[h.jsx("label",{className:"label",children:"Trmino estimado"}),h.jsx("div",{className:"input flex items-center text-white/70",children:zf||""})]})]}),h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("input",{id:"usar_endereco",type:"checkbox",className:"h-4 w-4",checked:B.usar_endereco_cliente,onChange:y=>Rt("usar_endereco_cliente",y.target.checked)}),h.jsx("label",{htmlFor:"usar_endereco",className:"text-sm text-white/70",children:"Usar endereo da cliente (se existir)"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"label",children:"Endereo do atendimento"}),h.jsx("input",{className:"input",value:B.endereco_atendimento,onChange:y=>Rt("endereco_atendimento",y.target.value),placeholder:"Local do atendimento"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"label",children:"Observaes"}),h.jsx("textarea",{className:"input min-h-[90px]",value:B.observacoes,onChange:y=>Rt("observacoes",y.target.value),placeholder:"Detalhes adicionais"})]})]})})]})}qo.createRoot(document.getElementById("root")).render(h.jsx(cp.StrictMode,{children:h.jsx(o0,{})}));
